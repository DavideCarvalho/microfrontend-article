{"version":3,"file":"bundle.js","sources":["../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/process-es6/browser.js","../node_modules/hybrids/esm/utils.js","../node_modules/hybrids/esm/property.js","../node_modules/hybrids/esm/render.js","../node_modules/hybrids/esm/cache.js","../node_modules/hybrids/esm/define.js","../node_modules/hybrids/esm/parent.js","../node_modules/hybrids/esm/template/utils.js","../node_modules/hybrids/esm/template/resolvers/array.js","../node_modules/hybrids/esm/template/resolvers/value.js","../node_modules/hybrids/esm/template/resolvers/event.js","../node_modules/hybrids/esm/template/resolvers/class.js","../node_modules/hybrids/esm/template/resolvers/style.js","../node_modules/hybrids/esm/template/resolvers/property.js","../node_modules/hybrids/esm/template/core.js","../node_modules/hybrids/esm/template/resolve.js","../node_modules/hybrids/esm/template/index.js","../index.js"],"sourcesContent":["export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function camelToDash(str) {\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\nexport function pascalToDash(str) {\n  str = str[0].toLowerCase() + str.slice(1);\n  return camelToDash(str);\n}\nexport function dispatch(host, eventType) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return host.dispatchEvent(new CustomEvent(eventType, _objectSpread({\n    bubbles: false\n  }, options)));\n}\nexport function shadyCSS(fn, fallback) {\n  var shady = window.ShadyCSS;\n  /* istanbul ignore next */\n\n  if (shady && !shady.nativeShadow) {\n    return fn(shady);\n  }\n\n  return fallback;\n}\nexport function stringifyElement(element) {\n  var tagName = String(element.tagName).toLowerCase();\n  return \"<\".concat(tagName, \">\");\n}\nexport var IS_IE = 'ActiveXObject' in window;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlscy5qcyJdLCJuYW1lcyI6WyJjYW1lbFRvRGFzaCIsInN0ciIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsInBhc2NhbFRvRGFzaCIsInNsaWNlIiwiZGlzcGF0Y2giLCJob3N0IiwiZXZlbnRUeXBlIiwib3B0aW9ucyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJzaGFkeUNTUyIsImZuIiwiZmFsbGJhY2siLCJzaGFkeSIsIndpbmRvdyIsIlNoYWR5Q1NTIiwibmF0aXZlU2hhZG93Iiwic3RyaW5naWZ5RWxlbWVudCIsImVsZW1lbnQiLCJ0YWdOYW1lIiwiU3RyaW5nIiwiSVNfSUUiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLFNBQVNBLFdBQVQsQ0FBcUJDLEdBQXJCLEVBQTBCO0FBQy9CLFNBQU9BLEdBQUcsQ0FBQ0MsT0FBSixDQUFZLGlCQUFaLEVBQStCLE9BQS9CLEVBQXdDQyxXQUF4QyxFQUFQO0FBQ0Q7QUFFRCxPQUFPLFNBQVNDLFlBQVQsQ0FBc0JILEdBQXRCLEVBQTJCO0FBQ2hDQSxFQUFBQSxHQUFHLEdBQUdBLEdBQUcsQ0FBQyxDQUFELENBQUgsQ0FBT0UsV0FBUCxLQUF1QkYsR0FBRyxDQUFDSSxLQUFKLENBQVUsQ0FBVixDQUE3QjtBQUNBLFNBQU9MLFdBQVcsQ0FBQ0MsR0FBRCxDQUFsQjtBQUNEO0FBRUQsT0FBTyxTQUFTSyxRQUFULENBQWtCQyxJQUFsQixFQUF3QkMsU0FBeEIsRUFBaUQ7QUFBQSxNQUFkQyxPQUFjLHVFQUFKLEVBQUk7QUFDdEQsU0FBT0YsSUFBSSxDQUFDRyxhQUFMLENBQW1CLElBQUlDLFdBQUosQ0FBZ0JILFNBQWhCO0FBQTZCSSxJQUFBQSxPQUFPLEVBQUU7QUFBdEMsS0FBZ0RILE9BQWhELEVBQW5CLENBQVA7QUFDRDtBQUVELE9BQU8sU0FBU0ksUUFBVCxDQUFrQkMsRUFBbEIsRUFBc0JDLFFBQXRCLEVBQWdDO0FBQ3JDLE1BQU1DLEtBQUssR0FBR0MsTUFBTSxDQUFDQyxRQUFyQjtBQUVBOztBQUNBLE1BQUlGLEtBQUssSUFBSSxDQUFDQSxLQUFLLENBQUNHLFlBQXBCLEVBQWtDO0FBQ2hDLFdBQU9MLEVBQUUsQ0FBQ0UsS0FBRCxDQUFUO0FBQ0Q7O0FBRUQsU0FBT0QsUUFBUDtBQUNEO0FBRUQsT0FBTyxTQUFTSyxnQkFBVCxDQUEwQkMsT0FBMUIsRUFBbUM7QUFDeEMsTUFBTUMsT0FBTyxHQUFHQyxNQUFNLENBQUNGLE9BQU8sQ0FBQ0MsT0FBVCxDQUFOLENBQXdCbkIsV0FBeEIsRUFBaEI7QUFDQSxvQkFBV21CLE9BQVg7QUFDRDtBQUVELE9BQU8sSUFBTUUsS0FBSyxHQUFHLG1CQUFtQlAsTUFBakMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY2FtZWxUb0Rhc2goc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJykudG9Mb3dlckNhc2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhc2NhbFRvRGFzaChzdHIpIHtcbiAgc3RyID0gc3RyWzBdLnRvTG93ZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG4gIHJldHVybiBjYW1lbFRvRGFzaChzdHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2goaG9zdCwgZXZlbnRUeXBlLCBvcHRpb25zID0ge30pIHtcbiAgcmV0dXJuIGhvc3QuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoZXZlbnRUeXBlLCB7IGJ1YmJsZXM6IGZhbHNlLCAuLi5vcHRpb25zIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYWR5Q1NTKGZuLCBmYWxsYmFjaykge1xuICBjb25zdCBzaGFkeSA9IHdpbmRvdy5TaGFkeUNTUztcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoc2hhZHkgJiYgIXNoYWR5Lm5hdGl2ZVNoYWRvdykge1xuICAgIHJldHVybiBmbihzaGFkeSk7XG4gIH1cblxuICByZXR1cm4gZmFsbGJhY2s7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlFbGVtZW50KGVsZW1lbnQpIHtcbiAgY29uc3QgdGFnTmFtZSA9IFN0cmluZyhlbGVtZW50LnRhZ05hbWUpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBgPCR7dGFnTmFtZX0+YDtcbn1cblxuZXhwb3J0IGNvbnN0IElTX0lFID0gJ0FjdGl2ZVhPYmplY3QnIGluIHdpbmRvdztcbiJdfQ==","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { camelToDash } from './utils';\n\nvar defaultTransform = function defaultTransform(v) {\n  return v;\n};\n\nvar objectTransform = function objectTransform(value) {\n  if (_typeof(value) !== 'object') {\n    throw TypeError(\"[property] Argument is not an object: \".concat(typeof v === \"undefined\" ? \"undefined\" : _typeof(v)));\n  }\n\n  return value && Object.freeze(value);\n};\n\nexport default function property(value, connect) {\n  var type = _typeof(value);\n\n  var transform = defaultTransform;\n\n  switch (type) {\n    case 'string':\n      transform = String;\n      break;\n\n    case 'number':\n      transform = Number;\n      break;\n\n    case 'boolean':\n      transform = Boolean;\n      break;\n\n    case 'function':\n      transform = value;\n      value = transform();\n      break;\n\n    case 'object':\n      if (value) Object.freeze(value);\n      transform = objectTransform;\n      break;\n\n    default:\n      break;\n  }\n\n  return {\n    get: function get(host) {\n      var val = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : value;\n      return val;\n    },\n    set: function set(host, val, oldValue) {\n      return transform(val, oldValue);\n    },\n    connect: type !== 'object' && type !== 'undefined' ? function (host, key, invalidate) {\n      if (host[key] === value) {\n        var attrName = camelToDash(key);\n\n        if (host.hasAttribute(attrName)) {\n          var attrValue = host.getAttribute(attrName);\n          host[key] = attrValue !== '' ? attrValue : true;\n        }\n      }\n\n      return connect && connect(host, key, invalidate);\n    } : connect\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9wcm9wZXJ0eS5qcyJdLCJuYW1lcyI6WyJjYW1lbFRvRGFzaCIsImRlZmF1bHRUcmFuc2Zvcm0iLCJ2Iiwib2JqZWN0VHJhbnNmb3JtIiwidmFsdWUiLCJUeXBlRXJyb3IiLCJPYmplY3QiLCJmcmVlemUiLCJwcm9wZXJ0eSIsImNvbm5lY3QiLCJ0eXBlIiwidHJhbnNmb3JtIiwiU3RyaW5nIiwiTnVtYmVyIiwiQm9vbGVhbiIsImdldCIsImhvc3QiLCJ2YWwiLCJzZXQiLCJvbGRWYWx1ZSIsImtleSIsImludmFsaWRhdGUiLCJhdHRyTmFtZSIsImhhc0F0dHJpYnV0ZSIsImF0dHJWYWx1ZSIsImdldEF0dHJpYnV0ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxXQUFULFFBQTRCLFNBQTVCOztBQUVBLElBQU1DLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBQUMsQ0FBQztBQUFBLFNBQUlBLENBQUo7QUFBQSxDQUExQjs7QUFFQSxJQUFNQyxlQUFlLEdBQUcsU0FBbEJBLGVBQWtCLENBQUNDLEtBQUQsRUFBVztBQUNqQyxNQUFJLFFBQU9BLEtBQVAsTUFBaUIsUUFBckIsRUFBK0I7QUFDN0IsVUFBTUMsU0FBUyx3REFBaURILENBQWpELHlDQUFpREEsQ0FBakQsR0FBZjtBQUNEOztBQUNELFNBQU9FLEtBQUssSUFBSUUsTUFBTSxDQUFDQyxNQUFQLENBQWNILEtBQWQsQ0FBaEI7QUFDRCxDQUxEOztBQU9BLGVBQWUsU0FBU0ksUUFBVCxDQUFrQkosS0FBbEIsRUFBeUJLLE9BQXpCLEVBQWtDO0FBQy9DLE1BQU1DLElBQUksV0FBVU4sS0FBVixDQUFWOztBQUNBLE1BQUlPLFNBQVMsR0FBR1YsZ0JBQWhCOztBQUVBLFVBQVFTLElBQVI7QUFDRSxTQUFLLFFBQUw7QUFDRUMsTUFBQUEsU0FBUyxHQUFHQyxNQUFaO0FBQ0E7O0FBQ0YsU0FBSyxRQUFMO0FBQ0VELE1BQUFBLFNBQVMsR0FBR0UsTUFBWjtBQUNBOztBQUNGLFNBQUssU0FBTDtBQUNFRixNQUFBQSxTQUFTLEdBQUdHLE9BQVo7QUFDQTs7QUFDRixTQUFLLFVBQUw7QUFDRUgsTUFBQUEsU0FBUyxHQUFHUCxLQUFaO0FBQ0FBLE1BQUFBLEtBQUssR0FBR08sU0FBUyxFQUFqQjtBQUNBOztBQUNGLFNBQUssUUFBTDtBQUNFLFVBQUlQLEtBQUosRUFBV0UsTUFBTSxDQUFDQyxNQUFQLENBQWNILEtBQWQ7QUFDWE8sTUFBQUEsU0FBUyxHQUFHUixlQUFaO0FBQ0E7O0FBQ0Y7QUFBUztBQWxCWDs7QUFxQkEsU0FBTztBQUNMWSxJQUFBQSxHQUFHLEVBQUUsYUFBQ0MsSUFBRDtBQUFBLFVBQU9DLEdBQVAsdUVBQWFiLEtBQWI7QUFBQSxhQUF1QmEsR0FBdkI7QUFBQSxLQURBO0FBRUxDLElBQUFBLEdBQUcsRUFBRSxhQUFDRixJQUFELEVBQU9DLEdBQVAsRUFBWUUsUUFBWjtBQUFBLGFBQXlCUixTQUFTLENBQUNNLEdBQUQsRUFBTUUsUUFBTixDQUFsQztBQUFBLEtBRkE7QUFHTFYsSUFBQUEsT0FBTyxFQUFFQyxJQUFJLEtBQUssUUFBVCxJQUFxQkEsSUFBSSxLQUFLLFdBQTlCLEdBQ0wsVUFBQ00sSUFBRCxFQUFPSSxHQUFQLEVBQVlDLFVBQVosRUFBMkI7QUFDM0IsVUFBSUwsSUFBSSxDQUFDSSxHQUFELENBQUosS0FBY2hCLEtBQWxCLEVBQXlCO0FBQ3ZCLFlBQU1rQixRQUFRLEdBQUd0QixXQUFXLENBQUNvQixHQUFELENBQTVCOztBQUVBLFlBQUlKLElBQUksQ0FBQ08sWUFBTCxDQUFrQkQsUUFBbEIsQ0FBSixFQUFpQztBQUMvQixjQUFNRSxTQUFTLEdBQUdSLElBQUksQ0FBQ1MsWUFBTCxDQUFrQkgsUUFBbEIsQ0FBbEI7QUFDQU4sVUFBQUEsSUFBSSxDQUFDSSxHQUFELENBQUosR0FBWUksU0FBUyxLQUFLLEVBQWQsR0FBbUJBLFNBQW5CLEdBQStCLElBQTNDO0FBQ0Q7QUFDRjs7QUFFRCxhQUFPZixPQUFPLElBQUlBLE9BQU8sQ0FBQ08sSUFBRCxFQUFPSSxHQUFQLEVBQVlDLFVBQVosQ0FBekI7QUFDRCxLQVpNLEdBYUxaO0FBaEJDLEdBQVA7QUFrQkQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYW1lbFRvRGFzaCB9IGZyb20gJy4vdXRpbHMnO1xuXG5jb25zdCBkZWZhdWx0VHJhbnNmb3JtID0gdiA9PiB2O1xuXG5jb25zdCBvYmplY3RUcmFuc2Zvcm0gPSAodmFsdWUpID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoYFtwcm9wZXJ0eV0gQXJndW1lbnQgaXMgbm90IGFuIG9iamVjdDogJHt0eXBlb2Ygdn1gKTtcbiAgfVxuICByZXR1cm4gdmFsdWUgJiYgT2JqZWN0LmZyZWV6ZSh2YWx1ZSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcm9wZXJ0eSh2YWx1ZSwgY29ubmVjdCkge1xuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZXQgdHJhbnNmb3JtID0gZGVmYXVsdFRyYW5zZm9ybTtcblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgdHJhbnNmb3JtID0gU3RyaW5nO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHRyYW5zZm9ybSA9IE51bWJlcjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgdHJhbnNmb3JtID0gQm9vbGVhbjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHRyYW5zZm9ybSA9IHZhbHVlO1xuICAgICAgdmFsdWUgPSB0cmFuc2Zvcm0oKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICBpZiAodmFsdWUpIE9iamVjdC5mcmVlemUodmFsdWUpO1xuICAgICAgdHJhbnNmb3JtID0gb2JqZWN0VHJhbnNmb3JtO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDogYnJlYWs7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldDogKGhvc3QsIHZhbCA9IHZhbHVlKSA9PiB2YWwsXG4gICAgc2V0OiAoaG9zdCwgdmFsLCBvbGRWYWx1ZSkgPT4gdHJhbnNmb3JtKHZhbCwgb2xkVmFsdWUpLFxuICAgIGNvbm5lY3Q6IHR5cGUgIT09ICdvYmplY3QnICYmIHR5cGUgIT09ICd1bmRlZmluZWQnXG4gICAgICA/IChob3N0LCBrZXksIGludmFsaWRhdGUpID0+IHtcbiAgICAgICAgaWYgKGhvc3Rba2V5XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IGNhbWVsVG9EYXNoKGtleSk7XG5cbiAgICAgICAgICBpZiAoaG9zdC5oYXNBdHRyaWJ1dGUoYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSBob3N0LmdldEF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgICAgICBob3N0W2tleV0gPSBhdHRyVmFsdWUgIT09ICcnID8gYXR0clZhbHVlIDogdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29ubmVjdCAmJiBjb25uZWN0KGhvc3QsIGtleSwgaW52YWxpZGF0ZSk7XG4gICAgICB9XG4gICAgICA6IGNvbm5lY3QsXG4gIH07XG59XG4iXX0=","function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { shadyCSS } from './utils';\nvar map = new WeakMap();\nvar cache = new WeakMap();\nvar FPS_THRESHOLD = 1000 / 60; // 60 FPS ~ 16,67ms time window\n\nvar queue = [];\nexport function update() {\n  var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var startTime = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  if (startTime && performance.now() - startTime > FPS_THRESHOLD) {\n    requestAnimationFrame(function () {\n      return update(index);\n    });\n  } else {\n    var target = queue[index];\n    var nextTime = performance.now();\n\n    if (!target) {\n      shadyCSS(function (shady) {\n        return queue.forEach(function (t) {\n          return shady.styleSubtree(t);\n        });\n      });\n      queue = [];\n    } else {\n      if (map.has(target)) {\n        var key = map.get(target);\n        var prevUpdate = cache.get(target);\n\n        try {\n          var nextUpdate = target[key];\n\n          if (nextUpdate !== prevUpdate) {\n            cache.set(target, nextUpdate);\n            nextUpdate();\n            if (!prevUpdate) shadyCSS(function (shady) {\n              return shady.styleElement(target);\n            });\n          }\n        } catch (e) {\n          update(index + 1, nextTime);\n          throw e;\n        }\n      }\n\n      update(index + 1, nextTime);\n    }\n  }\n}\n\nfunction addToQueue(event) {\n  var target = event.composedPath()[0];\n\n  if (target === event.currentTarget) {\n    if (!queue[0]) {\n      requestAnimationFrame(function () {\n        return update();\n      });\n    }\n\n    if (queue.indexOf(target) === -1) {\n      queue.push(target);\n    }\n  }\n}\n\nexport default function render(_get) {\n  var customOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (typeof _get !== 'function') {\n    throw TypeError(\"[render] The first argument must be a function: \".concat(_typeof(_get)));\n  }\n\n  var options = _objectSpread({\n    shadowRoot: true\n  }, customOptions);\n\n  return {\n    get: function get(host) {\n      var fn = _get(host);\n\n      return function () {\n        return fn(host, options.shadowRoot ? host.shadowRoot : host);\n      };\n    },\n    connect: function connect(host, key) {\n      if (map.has(host)) {\n        throw Error(\"[render] Render factory already used in '\".concat(map.get(host), \"' key\"));\n      }\n\n      if (options.shadowRoot && !host.shadowRoot) {\n        var shadowRootInit = {\n          mode: 'open'\n        };\n\n        if (_typeof(options.shadowRoot) === 'object') {\n          Object.assign(shadowRootInit, options.shadowRoot);\n        }\n\n        host.attachShadow(shadowRootInit);\n      }\n\n      host.addEventListener('@invalidate', addToQueue);\n      map.set(host, key);\n      return function () {\n        host.removeEventListener('@invalidate', addToQueue);\n        map.delete(host);\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9yZW5kZXIuanMiXSwibmFtZXMiOlsic2hhZHlDU1MiLCJtYXAiLCJXZWFrTWFwIiwiY2FjaGUiLCJGUFNfVEhSRVNIT0xEIiwicXVldWUiLCJ1cGRhdGUiLCJpbmRleCIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGFyZ2V0IiwibmV4dFRpbWUiLCJzaGFkeSIsImZvckVhY2giLCJ0Iiwic3R5bGVTdWJ0cmVlIiwiaGFzIiwia2V5IiwiZ2V0IiwicHJldlVwZGF0ZSIsIm5leHRVcGRhdGUiLCJzZXQiLCJzdHlsZUVsZW1lbnQiLCJlIiwiYWRkVG9RdWV1ZSIsImV2ZW50IiwiY29tcG9zZWRQYXRoIiwiY3VycmVudFRhcmdldCIsImluZGV4T2YiLCJwdXNoIiwicmVuZGVyIiwiY3VzdG9tT3B0aW9ucyIsIlR5cGVFcnJvciIsIm9wdGlvbnMiLCJzaGFkb3dSb290IiwiaG9zdCIsImZuIiwiY29ubmVjdCIsIkVycm9yIiwic2hhZG93Um9vdEluaXQiLCJtb2RlIiwiT2JqZWN0IiwiYXNzaWduIiwiYXR0YWNoU2hhZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLFNBQVNBLFFBQVQsUUFBeUIsU0FBekI7QUFFQSxJQUFNQyxHQUFHLEdBQUcsSUFBSUMsT0FBSixFQUFaO0FBQ0EsSUFBTUMsS0FBSyxHQUFHLElBQUlELE9BQUosRUFBZDtBQUNBLElBQU1FLGFBQWEsR0FBRyxPQUFPLEVBQTdCLEMsQ0FBaUM7O0FBQ2pDLElBQUlDLEtBQUssR0FBRyxFQUFaO0FBRUEsT0FBTyxTQUFTQyxNQUFULEdBQTBDO0FBQUEsTUFBMUJDLEtBQTBCLHVFQUFsQixDQUFrQjtBQUFBLE1BQWZDLFNBQWUsdUVBQUgsQ0FBRzs7QUFDL0MsTUFBSUEsU0FBUyxJQUFLQyxXQUFXLENBQUNDLEdBQVosS0FBb0JGLFNB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QUFDRCxVQUExQixHQUF1Q0MsSUFBOUMsQ0FBUjtBQUFBLE9BQVA7QUFDRCxLQUpJO0FBS0xFLElBQUFBLE9BTEssbUJBS0dGLElBTEgsRUFLU2xCLEdBTFQsRUFLYztBQUNqQixVQUFJbEIsR0FBRyxDQUFDaUIsR0FBSixDQUFRbUIsSUFBUixDQUFKLEVBQW1CO0FBQ2pCLGNBQU1HLEtBQUssb0RBQTZDdkMsR0FBRyxDQUFDbUIsR0FBSixDQUFRaUIsSUFBUixDQUE3QyxXQUFYO0FBQ0Q7O0FBRUQsVUFBSUYsT0FBTyxDQUFDQyxVQUFSLElBQXNCLENBQUNDLElBQUksQ0FBQ0QsVUFBaEMsRUFBNEM7QUFDMUMsWUFBTUssY0FBYyxHQUFHO0FBQUVDLFVBQUFBLElBQUksRUFBRTtBQUFSLFNBQXZCOztBQUNBLFlBQUksUUFBT1AsT0FBTyxDQUFDQyxVQUFmLE1BQThCLFFBQWxDLEVBQTRDO0FBQzFDTyxVQUFBQSxNQUFNLENBQUNDLE1BQVAsQ0FBY0gsY0FBZCxFQUE4Qk4sT0FBTyxDQUFDQyxVQUF0QztBQUNEOztBQUNEQyxRQUFBQSxJQUFJLENBQUNRLFlBQUwsQ0FBa0JKLGNBQWxCO0FBQ0Q7O0FBRURKLE1BQUFBLElBQUksQ0FBQ1MsZ0JBQUwsQ0FBc0IsYUFBdEIsRUFBcUNwQixVQUFyQztBQUNBekIsTUFBQUEsR0FBRyxDQUFDc0IsR0FBSixDQUFRYyxJQUFSLEVBQWNsQixHQUFkO0FBRUEsYUFBTyxZQUFNO0FBQ1hrQixRQUFBQSxJQUFJLENBQUNVLG1CQUFMLENBQXlCLGFBQXpCLEVBQXdDckIsVUFBeEM7QUFDQXpCLFFBQUFBLEdBQUcsQ0FBQytDLE1BQUosQ0FBV1gsSUFBWDtBQUNELE9BSEQ7QUFJRDtBQXpCSSxHQUFQO0FBMkJEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2hhZHlDU1MgfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgbWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IGNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IEZQU19USFJFU0hPTEQgPSAxMDAwIC8gNjA7IC8vIDYwIEZQUyB+IDE2LDY3bXMgdGltZSB3aW5kb3dcbmxldCBxdWV1ZSA9IFtdO1xuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKGluZGV4ID0gMCwgc3RhcnRUaW1lID0gMCkge1xuICBpZiAoc3RhcnRUaW1lICYmIChwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZSA+IEZQU19USFJFU0hPTEQpKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHVwZGF0ZShpbmRleCkpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHRhcmdldCA9IHF1ZXVlW2luZGV4XTtcbiAgICBjb25zdCBuZXh0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHNoYWR5Q1NTKHNoYWR5ID0+IHF1ZXVlLmZvckVhY2godCA9PiBzaGFkeS5zdHlsZVN1YnRyZWUodCkpKTtcbiAgICAgIHF1ZXVlID0gW107XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtYXAuaGFzKHRhcmdldCkpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gbWFwLmdldCh0YXJnZXQpO1xuICAgICAgICBjb25zdCBwcmV2VXBkYXRlID0gY2FjaGUuZ2V0KHRhcmdldCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbmV4dFVwZGF0ZSA9IHRhcmdldFtrZXldO1xuICAgICAgICAgIGlmIChuZXh0VXBkYXRlICE9PSBwcmV2VXBkYXRlKSB7XG4gICAgICAgICAgICBjYWNoZS5zZXQodGFyZ2V0LCBuZXh0VXBkYXRlKTtcbiAgICAgICAgICAgIG5leHRVcGRhdGUoKTtcbiAgICAgICAgICAgIGlmICghcHJldlVwZGF0ZSkgc2hhZHlDU1Moc2hhZHkgPT4gc2hhZHkuc3R5bGVFbGVtZW50KHRhcmdldCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHVwZGF0ZShpbmRleCArIDEsIG5leHRUaW1lKTtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB1cGRhdGUoaW5kZXggKyAxLCBuZXh0VGltZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFkZFRvUXVldWUoZXZlbnQpIHtcbiAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY29tcG9zZWRQYXRoKClbMF07XG4gIGlmICh0YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICBpZiAoIXF1ZXVlWzBdKSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHVwZGF0ZSgpKSk7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5pbmRleE9mKHRhcmdldCkgPT09IC0xKSB7XG4gICAgICBxdWV1ZS5wdXNoKHRhcmdldCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbmRlcihnZXQsIGN1c3RvbU9wdGlvbnMgPSB7fSkge1xuICBpZiAodHlwZW9mIGdldCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IFR5cGVFcnJvcihgW3JlbmRlcl0gVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbjogJHt0eXBlb2YgZ2V0fWApO1xuICB9XG5cbiAgY29uc3Qgb3B0aW9ucyA9IHsgc2hhZG93Um9vdDogdHJ1ZSwgLi4uY3VzdG9tT3B0aW9ucyB9O1xuXG4gIHJldHVybiB7XG4gICAgZ2V0OiAoaG9zdCkgPT4ge1xuICAgICAgY29uc3QgZm4gPSBnZXQoaG9zdCk7XG4gICAgICByZXR1cm4gKCkgPT4gZm4oaG9zdCwgb3B0aW9ucy5zaGFkb3dSb290ID8gaG9zdC5zaGFkb3dSb290IDogaG9zdCk7XG4gICAgfSxcbiAgICBjb25uZWN0KGhvc3QsIGtleSkge1xuICAgICAgaWYgKG1hcC5oYXMoaG9zdCkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYFtyZW5kZXJdIFJlbmRlciBmYWN0b3J5IGFscmVhZHkgdXNlZCBpbiAnJHttYXAuZ2V0KGhvc3QpfScga2V5YCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnNoYWRvd1Jvb3QgJiYgIWhvc3Quc2hhZG93Um9vdCkge1xuICAgICAgICBjb25zdCBzaGFkb3dSb290SW5pdCA9IHsgbW9kZTogJ29wZW4nIH07XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zaGFkb3dSb290ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2hhZG93Um9vdEluaXQsIG9wdGlvbnMuc2hhZG93Um9vdCk7XG4gICAgICAgIH1cbiAgICAgICAgaG9zdC5hdHRhY2hTaGFkb3coc2hhZG93Um9vdEluaXQpO1xuICAgICAgfVxuXG4gICAgICBob3N0LmFkZEV2ZW50TGlzdGVuZXIoJ0BpbnZhbGlkYXRlJywgYWRkVG9RdWV1ZSk7XG4gICAgICBtYXAuc2V0KGhvc3QsIGtleSk7XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGhvc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignQGludmFsaWRhdGUnLCBhZGRUb1F1ZXVlKTtcbiAgICAgICAgbWFwLmRlbGV0ZShob3N0KTtcbiAgICAgIH07XG4gICAgfSxcbiAgfTtcbn1cbiJdfQ==","import { stringifyElement } from './utils';\nvar entries = new WeakMap();\nexport function getEntry(target, key) {\n  var targetMap = entries.get(target);\n\n  if (!targetMap) {\n    targetMap = new Map();\n    entries.set(target, targetMap);\n  }\n\n  var entry = targetMap.get(key);\n\n  if (!entry) {\n    entry = {\n      target: target,\n      key: key,\n      value: undefined,\n      deps: new Set(),\n      state: 1,\n      checksum: 0\n    };\n    targetMap.set(key, entry);\n  }\n\n  return entry;\n}\n\nfunction calculateChecksum(_ref) {\n  var state = _ref.state,\n      deps = _ref.deps;\n  var checksum = state;\n  deps.forEach(function (entry) {\n    // eslint-disable-next-line no-unused-expressions\n    entry.target[entry.key];\n    checksum += entry.state;\n  });\n  return checksum;\n}\n\nvar context = null;\nexport function get(target, key, getter) {\n  var entry = getEntry(target, key);\n\n  if (context === entry) {\n    context = null;\n    throw Error(\"[cache] Circular '\".concat(key, \"' get invocation in '\").concat(stringifyElement(target), \"'\"));\n  }\n\n  if (context) {\n    context.deps.add(entry);\n  }\n\n  var parentContext = context;\n  context = entry;\n\n  if (entry.checksum && entry.checksum === calculateChecksum(entry)) {\n    context = parentContext;\n    return entry.value;\n  }\n\n  entry.deps.clear();\n\n  try {\n    var nextValue = getter(target, entry.value);\n\n    if (nextValue !== entry.value) {\n      entry.state += 1;\n      entry.value = nextValue;\n    }\n\n    entry.checksum = calculateChecksum(entry);\n    context = parentContext;\n  } catch (e) {\n    context = null;\n    throw e;\n  }\n\n  return entry.value;\n}\nexport function set(target, key, setter, value, callback) {\n  if (context) {\n    context = null;\n    throw Error(\"[cache] Try to set '\".concat(key, \"' of '\").concat(stringifyElement(target), \"' in get call\"));\n  }\n\n  var entry = getEntry(target, key);\n  var newValue = setter(target, value, entry.value);\n\n  if (newValue !== entry.value) {\n    entry.state += 1;\n    entry.value = newValue;\n    callback();\n  }\n}\nexport function invalidate(target, key, clearValue) {\n  if (context) {\n    context = null;\n    throw Error(\"[cache] Try to invalidate '\".concat(key, \"' in '\").concat(stringifyElement(target), \"' get call\"));\n  }\n\n  var entry = getEntry(target, key);\n  entry.checksum = 0;\n\n  if (clearValue) {\n    entry.value = undefined;\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jYWNoZS5qcyJdLCJuYW1lcyI6WyJzdHJpbmdpZnlFbGVtZW50IiwiZW50cmllcyIsIldlYWtNYXAiLCJnZXRFbnRyeSIsInRhcmdldCIsImtleSIsInRhcmdldE1hcCIsImdldCIsIk1hcCIsInNldCIsImVudHJ5IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJkZXBzIiwiU2V0Iiwic3RhdGUiLCJjaGVja3N1bSIsImNhbGN1bGF0ZUNoZWNrc3VtIiwiZm9yRWFjaCIsImNvbnRleHQiLCJnZXR0ZXIiLCJFcnJvciIsImFkZCIsInBhcmVudENvbnRleHQiLCJjbGVhciIsIm5leHRWYWx1ZSIsImUiLCJzZXR0ZXIiLCJjYWxsYmFjayIsIm5ld1ZhbHVlIiwiaW52YWxpZGF0ZSIsImNsZWFyVmFsdWUiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGdCQUFULFFBQWlDLFNBQWpDO0FBRUEsSUFBTUMsT0FBTyxHQUFHLElBQUlDLE9BQUosRUFBaEI7QUFDQSxPQUFPLFNBQVNDLFFBQVQsQ0FBa0JDLE1BQWxCLEVBQTBCQyxHQUExQixFQUErQjtBQUNwQyxNQUFJQyxTQUFTLEdBQUdMLE9BQU8sQ0FBQ00sR0FBUixDQUFZSCxNQUFaLENBQWhCOztBQUNBLE1BQUksQ0FBQ0UsU0FBTCxFQUFnQjtBQUNkQSxJQUFBQSxTQUFTLEdBQUcsSUFBSUUsR0FBSixFQUFaO0FBQ0FQLElBQUFBLE9BQU8sQ0FBQ1EsR0FBUixDQUFZTCxNQUFaLEVBQW9CRSxTQUFwQjtBQUNEOztBQUVELE1BQUlJLEtBQUssR0FBR0osU0FBUyxDQUFDQyxHQUFWLENBQWNGLEdBQWQsQ0FBWjs7QUFFQSxNQUFJLENBQUNLLEtBQUwsRUFBWTtBQUNWQSxJQUFBQSxLQUFLLEdBQUc7QUFDTk4sTUFBQUEsTUFBTSxFQUFOQSxNQURNO0FBRU5DLE1BQUFBLEdBQUcsRUFBSEEsR0FGTTtBQUdOTSxNQUFBQSxLQUFLLEVBQUVDLFNBSEQ7QUFJTkMsTUFBQUEsSUFBSSxFQUFFLElBQUlDLEdBQUos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LE1BQUlrQixRQUFRLEtBQUtuQixLQUFLLENBQUNDLEtBQXZCLEVBQThCO0FBQzVCRCxJQUFBQSxLQUFLLENBQUNLLEtBQU4sSUFBZSxDQUFmO0FBQ0FMLElBQUFBLEtBQUssQ0FBQ0MsS0FBTixHQUFja0IsUUFBZDtBQUVBRCxJQUFBQSxRQUFRO0FBQ1Q7QUFDRjtBQUVELE9BQU8sU0FBU0UsVUFBVCxDQUFvQjFCLE1BQXBCLEVBQTRCQyxHQUE1QixFQUFpQzBCLFVBQWpDLEVBQTZDO0FBQ2xELE1BQUlaLE9BQUosRUFBYTtBQUNYQSxJQUFBQSxPQUFPLEdBQUcsSUFBVjtBQUNBLFVBQU1FLEtBQUssc0NBQStCaEIsR0FBL0IsbUJBQTJDTCxnQkFBZ0IsQ0FBQ0ksTUFBRCxDQUEzRCxnQkFBWDtBQUNEOztBQUVELE1BQU1NLEtBQUssR0FBR1AsUUFBUSxDQUFDQyxNQUFELEVBQVNDLEdBQVQsQ0FBdEI7QUFFQUssRUFBQUEsS0FBSyxDQUFDTSxRQUFOLEdBQWlCLENBQWpCOztBQUVBLE1BQUllLFVBQUosRUFBZ0I7QUFDZHJCLElBQUFBLEtBQUssQ0FBQ0MsS0FBTixHQUFjQyxTQUFkO0FBQ0Q7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0cmluZ2lmeUVsZW1lbnQgfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgZW50cmllcyA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0RW50cnkodGFyZ2V0LCBrZXkpIHtcbiAgbGV0IHRhcmdldE1hcCA9IGVudHJpZXMuZ2V0KHRhcmdldCk7XG4gIGlmICghdGFyZ2V0TWFwKSB7XG4gICAgdGFyZ2V0TWFwID0gbmV3IE1hcCgpO1xuICAgIGVudHJpZXMuc2V0KHRhcmdldCwgdGFyZ2V0TWFwKTtcbiAgfVxuXG4gIGxldCBlbnRyeSA9IHRhcmdldE1hcC5nZXQoa2V5KTtcblxuICBpZiAoIWVudHJ5KSB7XG4gICAgZW50cnkgPSB7XG4gICAgICB0YXJnZXQsXG4gICAgICBrZXksXG4gICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgZGVwczogbmV3IFNldCgpLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBjaGVja3N1bTogMCxcbiAgICB9O1xuICAgIHRhcmdldE1hcC5zZXQoa2V5LCBlbnRyeSk7XG4gIH1cblxuICByZXR1cm4gZW50cnk7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZUNoZWNrc3VtKHsgc3RhdGUsIGRlcHMgfSkge1xuICBsZXQgY2hlY2tzdW0gPSBzdGF0ZTtcbiAgZGVwcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcbiAgICBlbnRyeS50YXJnZXRbZW50cnkua2V5XTtcbiAgICBjaGVja3N1bSArPSBlbnRyeS5zdGF0ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNoZWNrc3VtO1xufVxuXG5sZXQgY29udGV4dCA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gZ2V0KHRhcmdldCwga2V5LCBnZXR0ZXIpIHtcbiAgY29uc3QgZW50cnkgPSBnZXRFbnRyeSh0YXJnZXQsIGtleSk7XG5cbiAgaWYgKGNvbnRleHQgPT09IGVudHJ5KSB7XG4gICAgY29udGV4dCA9IG51bGw7XG4gICAgdGhyb3cgRXJyb3IoYFtjYWNoZV0gQ2lyY3VsYXIgJyR7a2V5fScgZ2V0IGludm9jYXRpb24gaW4gJyR7c3RyaW5naWZ5RWxlbWVudCh0YXJnZXQpfSdgKTtcbiAgfVxuXG4gIGlmIChjb250ZXh0KSB7XG4gICAgY29udGV4dC5kZXBzLmFkZChlbnRyeSk7XG4gIH1cblxuICBjb25zdCBwYXJlbnRDb250ZXh0ID0gY29udGV4dDtcbiAgY29udGV4dCA9IGVudHJ5O1xuXG4gIGlmIChlbnRyeS5jaGVja3N1bSAmJiBlbnRyeS5jaGVja3N1bSA9PT0gY2FsY3VsYXRlQ2hlY2tzdW0oZW50cnkpKSB7XG4gICAgY29udGV4dCA9IHBhcmVudENvbnRleHQ7XG4gICAgcmV0dXJuIGVudHJ5LnZhbHVlO1xuICB9XG5cbiAgZW50cnkuZGVwcy5jbGVhcigpO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbmV4dFZhbHVlID0gZ2V0dGVyKHRhcmdldCwgZW50cnkudmFsdWUpO1xuXG4gICAgaWYgKG5leHRWYWx1ZSAhPT0gZW50cnkudmFsdWUpIHtcbiAgICAgIGVudHJ5LnN0YXRlICs9IDE7XG4gICAgICBlbnRyeS52YWx1ZSA9IG5leHRWYWx1ZTtcbiAgICB9XG5cbiAgICBlbnRyeS5jaGVja3N1bSA9IGNhbGN1bGF0ZUNoZWNrc3VtKGVudHJ5KTtcbiAgICBjb250ZXh0ID0gcGFyZW50Q29udGV4dDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnRleHQgPSBudWxsO1xuICAgIHRocm93IGU7XG4gIH1cblxuICByZXR1cm4gZW50cnkudmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQodGFyZ2V0LCBrZXksIHNldHRlciwgdmFsdWUsIGNhbGxiYWNrKSB7XG4gIGlmIChjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IG51bGw7XG4gICAgdGhyb3cgRXJyb3IoYFtjYWNoZV0gVHJ5IHRvIHNldCAnJHtrZXl9JyBvZiAnJHtzdHJpbmdpZnlFbGVtZW50KHRhcmdldCl9JyBpbiBnZXQgY2FsbGApO1xuICB9XG5cbiAgY29uc3QgZW50cnkgPSBnZXRFbnRyeSh0YXJnZXQsIGtleSk7XG4gIGNvbnN0IG5ld1ZhbHVlID0gc2V0dGVyKHRhcmdldCwgdmFsdWUsIGVudHJ5LnZhbHVlKTtcblxuICBpZiAobmV3VmFsdWUgIT09IGVudHJ5LnZhbHVlKSB7XG4gICAgZW50cnkuc3RhdGUgKz0gMTtcbiAgICBlbnRyeS52YWx1ZSA9IG5ld1ZhbHVlO1xuXG4gICAgY2FsbGJhY2soKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52YWxpZGF0ZSh0YXJnZXQsIGtleSwgY2xlYXJWYWx1ZSkge1xuICBpZiAoY29udGV4dCkge1xuICAgIGNvbnRleHQgPSBudWxsO1xuICAgIHRocm93IEVycm9yKGBbY2FjaGVdIFRyeSB0byBpbnZhbGlkYXRlICcke2tleX0nIGluICcke3N0cmluZ2lmeUVsZW1lbnQodGFyZ2V0KX0nIGdldCBjYWxsYCk7XG4gIH1cblxuICBjb25zdCBlbnRyeSA9IGdldEVudHJ5KHRhcmdldCwga2V5KTtcblxuICBlbnRyeS5jaGVja3N1bSA9IDA7XG5cbiAgaWYgKGNsZWFyVmFsdWUpIHtcbiAgICBlbnRyeS52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgfVxufVxuIl19","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport property from './property';\nimport render from './render';\nimport * as cache from './cache';\nimport { dispatch, pascalToDash } from './utils';\n\nfunction dispatchInvalidate(host) {\n  dispatch(host, '@invalidate', {\n    bubbles: true,\n    composed: true\n  });\n}\n\nvar defaultGet = function defaultGet(host, value) {\n  return value;\n};\n\nfunction compile(Hybrid, hybrids) {\n  Hybrid.hybrids = hybrids;\n  Hybrid.connects = [];\n  Object.keys(hybrids).forEach(function (key) {\n    var config = hybrids[key];\n\n    var type = _typeof(config);\n\n    if (type === 'function') {\n      config = key === 'render' ? render(config) : {\n        get: config\n      };\n    } else if (config === null || type !== 'object' || type === 'object' && !config.get && !config.set) {\n      config = property(config);\n    }\n\n    config.get = config.get || defaultGet;\n    Object.defineProperty(Hybrid.prototype, key, {\n      get: function get() {\n        return cache.get(this, key, config.get);\n      },\n      set: config.set && function set(newValue) {\n        var _this = this;\n\n        cache.set(this, key, config.set, newValue, function () {\n          return dispatchInvalidate(_this);\n        });\n      },\n      enumerable: true,\n      configurable: process.env.NODE_ENV !== 'production'\n    });\n\n    if (config.connect) {\n      Hybrid.connects.push(function (host) {\n        return config.connect(host, key, function () {\n          var clearCache = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n          if (clearCache) cache.invalidate(host, key);\n          dispatchInvalidate(host);\n        });\n      });\n    }\n  });\n}\n\nvar update;\n/* istanbul ignore else */\n\nif (process.env.NODE_ENV !== 'production') {\n  var walkInShadow = function walkInShadow(node, fn) {\n    fn(node);\n    Array.from(node.children).forEach(function (el) {\n      return walkInShadow(el, fn);\n    });\n\n    if (node.shadowRoot) {\n      Array.from(node.shadowRoot.children).forEach(function (el) {\n        return walkInShadow(el, fn);\n      });\n    }\n  };\n\n  var updateQueue = new Map();\n\n  update = function update(Hybrid, lastHybrids) {\n    if (!updateQueue.size) {\n      Promise.resolve().then(function () {\n        walkInShadow(document.body, function (node) {\n          if (updateQueue.has(node.constructor)) {\n            var hybrids = updateQueue.get(node.constructor);\n            node.disconnectedCallback();\n            Object.keys(node.constructor.hybrids).forEach(function (key) {\n              cache.invalidate(node, key, node[key] === hybrids[key]);\n            });\n            node.connectedCallback();\n            dispatchInvalidate(node);\n          }\n        });\n        updateQueue.clear();\n      });\n    }\n\n    updateQueue.set(Hybrid, lastHybrids);\n  };\n}\n\nvar connects = new WeakMap();\n\nfunction defineElement(tagName, hybridsOrConstructor) {\n  var type = _typeof(hybridsOrConstructor);\n\n  if (type !== 'object' && type !== 'function') {\n    throw TypeError('[define] Invalid second argument. It must be an object or a function');\n  }\n\n  var CustomElement = window.customElements.get(tagName);\n\n  if (type === 'function') {\n    if (CustomElement !== hybridsOrConstructor) {\n      return window.customElements.define(tagName, hybridsOrConstructor);\n    }\n\n    return CustomElement;\n  }\n\n  if (CustomElement) {\n    if (CustomElement.hybrids === hybridsOrConstructor) {\n      return CustomElement;\n    }\n\n    if (process.env.NODE_ENV !== 'production' && CustomElement.hybrids) {\n      Object.keys(CustomElement.hybrids).forEach(function (key) {\n        delete CustomElement.prototype[key];\n      });\n      var lastHybrids = CustomElement.hybrids;\n      compile(CustomElement, hybridsOrConstructor);\n      update(CustomElement, lastHybrids);\n      return CustomElement;\n    }\n\n    throw Error(\"[define] Element '\".concat(tagName, \"' already defined\"));\n  }\n\n  var Hybrid =\n  /*#__PURE__*/\n  function (_HTMLElement) {\n    _inherits(Hybrid, _HTMLElement);\n\n    function Hybrid() {\n      _classCallCheck(this, Hybrid);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(Hybrid).apply(this, arguments));\n    }\n\n    _createClass(Hybrid, [{\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        var _this2 = this;\n\n        var list = this.constructor.connects.reduce(function (acc, fn) {\n          var result = fn(_this2);\n          if (result) acc.add(result);\n          return acc;\n        }, new Set());\n        connects.set(this, list);\n        dispatchInvalidate(this);\n      }\n    }, {\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        var list = connects.get(this);\n        list.forEach(function (fn) {\n          return fn();\n        });\n      }\n    }], [{\n      key: \"name\",\n      get: function get() {\n        return tagName;\n      }\n    }]);\n\n    return Hybrid;\n  }(_wrapNativeSuper(HTMLElement));\n\n  compile(Hybrid, hybridsOrConstructor);\n  customElements.define(tagName, Hybrid);\n  return Hybrid;\n}\n\nfunction defineMap(elements) {\n  return Object.keys(elements).reduce(function (acc, key) {\n    var tagName = pascalToDash(key);\n    acc[key] = defineElement(tagName, elements[key]);\n    return acc;\n  }, {});\n}\n\nexport default function define() {\n  if (_typeof(arguments.length <= 0 ? undefined : arguments[0]) === 'object') {\n    return defineMap(arguments.length <= 0 ? undefined : arguments[0]);\n  }\n\n  return defineElement.apply(void 0, arguments);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9kZWZpbmUuanMiXSwibmFtZXMiOlsicHJvcGVydHkiLCJyZW5kZXIiLCJjYWNoZSIsImRpc3BhdGNoIiwicGFzY2FsVG9EYXNoIiwiZGlzcGF0Y2hJbnZhbGlkYXRlIiwiaG9zdCIsImJ1YmJsZXMiLCJjb21wb3NlZCIsImRlZmF1bHRHZXQiLCJ2YWx1ZSIsImNvbXBpbGUiLCJIeWJyaWQiLCJoeWJyaWRzIiwiY29ubmVjdHMiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsImNvbmZpZyIsInR5cGUiLCJnZXQiLCJzZXQiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3RvdHlwZSIsIm5ld1ZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImNvbm5lY3QiLCJwdXNoIiwiY2xlYXJDYWNoZSIsImludmFsaWRhdGUiLCJ1cGRhdGUiLCJ3YWxrSW5TaGFkb3ciLCJub2RlIiwiZm4iLCJBcnJheSIsImZyb20iLCJjaGlsZHJlbiIsImVsIiwic2hhZG93Um9vdCIsInVwZGF0ZVF1ZXVlIiwiTWFwIiwibGFzdEh5YnJpZHMiLCJzaXplIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiZG9jdW1lbnQiLCJib2R5IiwiaGFzIiwiY29uc3RydWN0b3IiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsImNvbm5lY3RlZENhbGxiYWNrIiwiY2xlYXIiLCJXZWFrTWFwIiwiZGVmaW5lRWxlbWVudCIsInRhZ05hbWUiLCJoeWJyaWRzT3JDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIkN1c3RvbUVsZW1lbnQiLCJ3aW5kb3ciLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsIkVycm9yIiwibGlzdCIsInJlZHVjZSIsImFjYyIsInJlc3VsdCIsImFkZCIsIlNldCIsIkhUTUxFbGVtZW50IiwiZGVmaW5lTWFwIiwiZWxlbWVudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsT0FBT0EsUUFBUCxNQUFxQixZQUFyQjtBQUNBLE9BQU9DLE1BQVAsTUFBbUIsVUFBbkI7QUFFQSxPQUFPLEtBQUtDLEtBQVosTUFBdUIsU0FBdkI7QUFDQSxTQUFTQyxRQUFULEVBQW1CQyxZQUFuQixRQUF1QyxTQUF2Qzs7QUFFQSxTQUFTQyxrQkFBVCxDQUE0QkMsSUFBNUIsRUFBa0M7QUFDaENILEVBQUFBLFFBQVEsQ0FBQ0csSUFBRCxFQUFPLGFBQVAsRUFBc0I7QUFBRUMsSUFBQUEsT0FBTyxFQUFFLElBQVg7QUFBaUJDLElBQUFBLFFBQVEsRUFBRTtBQUEzQixHQUF0QixDQUFSO0FBQ0Q7O0FBRUQsSUFBTUMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBQ0gsSUFBRCxFQUFPSSxLQUFQO0FBQUEsU0FBaUJBLEtBQWpCO0FBQUEsQ0FBbkI7O0FBRUEsU0FBU0MsT0FBVCxDQUFpQkMsTUFBakIsRUFBeUJDLE9BQXpCLEVBQWtDO0FBQ2hDRCxFQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUJBLE9BQWpCO0FBQ0FELEVBQUFBLE1BQU0sQ0FBQ0UsUUFBUCxHQUFrQixFQUFsQjtBQUVBQyxFQUFBQSxNQUFNLENBQUNDLElBQVAsQ0FBWUgsT0FBWixFQUFxQkksT0FBckIsQ0FBNkIsVUFBQ0MsR0FBRCxFQUFTO0FBQ3BDLFFBQUlDLE1BQU0sR0FBR04sT0FBTyxDQUFDSyxHQUFELENBQXBCOztBQUNBLFFBQU1FLElBQUksV0FBVUQsTUFBVixDQUFWOztBQUVBLFFBQUlDLElBQUksS0FBSyxVQUFiLEVBQXlCO0FBQ3ZCRCxNQUFBQSxNQUFNLEdBQUdELEdBQUcsS0FBSyxRQUFSLEdBQW1CakIsTUFBTSxDQUFDa0IsTUFBRCxDQUF6QixHQUFvQztBQUFFRSxRQUFBQSxHQUFHLEVBQUVGO0FBQVAsT0FBN0M7QUFDRCxLQUZELE1BRU8sSUFBSUEsTUFBTSxLQUFLLElBQVgsSUFBbUJDLElBQUksS0FBSyxRQUE1QixJQUF5Q0EsSUFBSSxLQUFLLFFBQVQsSUFBcUIsQ0FBQ0QsTUFBTSxDQUFDRSxHQUE3QixJQUFvQyxDQUFDRixNQUFNLENBQUNHLEdBQXpGLEVBQStGO0FBQ3BHSCxNQUFBQSxNQUFNLEdBQUduQixRQUFRLENBQUNtQixNQUFELENBQWpCO0FBQ0Q7O0FBRURBLElBQUFBLE1BQU0sQ0FBQ0UsR0FBUCxHQUFhRixNQUFNLENBQUNFLEdBQVAsSUFBY1osVUFBM0I7QUFFQU0sSUFBQUEsTUFBTSxDQUFDUSxjQUFQLENBQXNCWCxNQUFNLENBQUNZLFNBQTdCLEVBQXdDTixHQUF4QyxFQUE2QztBQUMzQ0csTUFBQUEsR0FBRyxFQUFFLFNBQVNBLEdBQVQsR0FBZTtBQUNsQixlQUFPbkIsS0FBSyxDQUFDbUIsR0FBTixDQUFVLElBQVYsRUFBZ0JILEdBQWhCLEVBQXFCQyxNQUFNLENBQUNFLEdBQTVCLENBQVA7QUFDRCxPQUgwQztBQUkzQ0MsTUFBQUEsR0FBRyxFQUFFSCxNQUFNLENBQUNHLEdBQVAsSUFBYyxTQUFTQSxHQUFULENBQWFHLFFBQWIsRUFBdUI7QUFBQTs7QUFDeEN2QixRQUFBQSxLQUFLLENBQUNvQixHQUFOLENBQVUsSUFBVixFQUFnQkosR0FBaEIsRUFBcUJDLE1BQU0sQ0FBQ0csR0FBNUIsRUFBaUNHLFFBQWpDLEVBQTJDO0FBQUEsaUJBQU1wQixrQkFBa0IsQ0FBQyxLQUFELENBQXhCO0FBQUEsU0FBM0M7QUFDRCxPQU4wQztBQU8zQ3FCLE1BQUFBLFVBQVUsRUFBRSxJQVArQjtBQVEzQ0MsTUFBQUEsWUFBWSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QjtBQVJJLEtBQTdDOztBQVdBLFFBQUlYLE1BQU0sQ0FBQ1ksT0FBWCxFQUFvQjtBQUNsQm5CLE1BQUFBLE1BQU0sQ0FBQ0UsUUFBUCxDQUFnQmtCLElBQWhCLENBQXFCLFVBQUExQixJQUFJO0FBQUEsZUFBSWEsTUFBTSxDQUFDWSxPQUFQLENBQWV6QixJQUFmLEVBQXFCWSxHQUFyQixFQUEwQixZQUF1QjtBQUFBLGNBQXRCZSxVQUFzQix1RUFBVCxJQUFTO0FBQzVFLGNBQUlBLFVBQUosRUFBZ0IvQixLQUFLLENBQUNnQyxVQUFOLENBQWlCNUIsSUFBakIsRUFBdUJZLEdBQXZCO0FBQ2hCYixVQUFBQSxrQkFBa0IsQ0FBQ0MsSUFBRCxDQUFsQjtBQUNELFNBSDRCLENBQUo7QUFBQSxPQUF6QjtBQUlEO0FBQ0YsR0E3QkQ7QUE4QkQ7O0FBRUQsSUFBSTZCLE1BQUo7QUFDQTs7QUFDQSxJQUFJUCxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixZQUE3QixFQUEyQztBQUN6QyxNQUFNTSxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDQyxJQUFELEVBQU9DLEVBQVAsRUFBYztBQUNqQ0EsSUFBQUEsRUFBRSxDQUFDRCxJQUFELENBQUY7QUFFQUUsSUFBQUEsS0FBSyxDQUFDQyxJQUFOLENBQVdILElBQUksQ0FBQ0ksUUFBaEIsRUFDR3hCLE9BREgsQ0FDVyxVQUFBeUIsRUFBRTtBQUFBLGFBQUlOLFlBQVksQ0FBQ00sRUFBRCxFQUFLSixFQUFMLENBQWhCO0FBQUEsS0FEYjs7QUFHQSxRQUFJRCxJQUFJLENBQUNNLFVBQVQsRUFBcUI7QUFDbkJKLE1BQUFBLEtBQUssQ0FBQ0MsSUFBTixDQUFXSCxJQUFJLENBQUNNLFVBQUwsQ0FBZ0JGLFFBQTNCLEVBQ0d4QixPQURILENBQ1csVUFBQXlCLEVBQUU7QUFBQSxlQUFJTixZQUFZLENBQUNNLEVBQUQsRUFBS0osRUFBTCxDQUFoQjtBQUFBLE9BRGI7QUFFRDtBQUNGLEdBVkQ7O0FBWUEsTUFBTU0sV0FBVyxHQUFHLElBQUlDLEdBQUosRUFBcEI7O0FBQ0FWLEVBQUFBLE1BQU0sR0FBRyxnQkFBQ3ZCLE1BQUQsRUFBU2tDLFdBQVQsRUFBeUI7QUFDaEMsUUFBSSxDQUFDRixXQUFXLENBQUNHLElBQWpCLEVBQXVCO0FBQ3JCQyxNQUFBQSxPQUFPLENBQUNDLE9BQVIsR0FBa0JDLElBQWxCLENBQXVCLFlBQU07QUFDM0JkLFFBQUFBLFlBQVksQ0FBQ2UsUUFBUSxDQUFDQyxJQUFWLEVBQWdCLFVBQUNmLElBQUQsRUFBVTtBQUNwQyxjQUFJTyxXQUFXLENBQUNTLEdBQVosQ0FBZ0JoQixJQUFJLENBQUNpQixXQUFyQixDQUFKLEVBQXVDO0FBQ3JDLGdCQUFNekMsT0FBTyxHQUFHK0IsV0FBVyxDQUFDdkIsR0FBWixDQUFnQmdCLElBQUksQ0FBQ2lCLFdBQXJCLENBQWhCO0FBQ0FqQixZQUFBQSxJQUFJLENBQUNrQixvQkFBTDtBQUVBeEMsWUFBQUEsTUFBTSxDQUFDQyxJQUFQLENBQVlxQixJQUFJLENBQUNpQixXQUFMLENBQWlCekMsT0FBN0IsRUFBc0NJLE9BQXRDLENBQThDLFVBQUNDLEdBQUQsRUFBUztBQUNyRGhCLGNBQUFBLEtBQUssQ0FBQ2dDLFVBQU4sQ0FBaUJHLElBQWpCLEVBQXVCbkIsR0FBdkIsRUFBNEJtQixJQUFJLENBQUNuQixHQUFELENBQUosS0FBY0wsT0FBTyxDQUFDSyxHQUFELENBQWpEO0FBQ0QsYUFGRDtBQUlBbUIsWUFBQUEsSUFBSSxDQUFDbUIsaUJBQUw7QUFDQW5ELFlBQUFBLGtCQUFrQixDQUFDZ0MsSUFBRCxDQUFsQjtBQUNEO0FBQ0YsU0FaVyxDQUFaO0FBYUFPLFFBQUFBLFdBQVcsQ0FBQ2EsS0FBWjtBQUNELE9BZkQ7QUFnQkQ7O0FBQ0RiLElBQUFBLFdBQVcsQ0FBQ3RCLEdBQVosQ0FBZ0JWLE1BQWhCLEVBQXdCa0MsV0FBeEI7QUFDRCxHQXBCRDtBQXFCRDs7QUFFRCxJQUFNaEMsUUFBUSxHQUFHLElBQUk0QyxPQUFKLEVBQWpCOztBQUVBLFNBQVNDLGFBQVQsQ0FBdUJDLE9BQXZCLEVBQWdDQyxvQkFBaEMsRUFBc0Q7QUFDcEQsTUFBTXpDLElBQUksV0FBVXlDLG9CQUFWLENBQVY7O0FBQ0EsTUFBSXpDLElBQUksS0FBSyxRQUFULElBQXFCQSxJQUFJLEtBQUssVUFBbEMsRUFBOEM7QUFDNUMsVUFBTTBDLFNBQVMsQ0FBQyxzRUFBRCxDQUFmO0FBQ0Q7O0FBRUQsTUFBTUMsYUFBYSxHQUFHQyxNQUFNLENBQUNDLGNBQVAsQ0FBc0I1QyxHQUF0QixDQUEwQnVDLE9BQTFCLENBQXRCOztBQUVBLE1BQUl4QyxJQUFJLEtBQUssVUFBYixFQUF5QjtBQUN2QixRQUFJMkMsYUFBYSxLQUFLRixvQkFBdEIsRUFBNEM7QUFDMUMsYUFBT0csTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxNQUF0QixDQUE2Qk4sT0FBN0IsRUFBc0NDLG9CQUF0QyxDQUFQO0FBQ0Q7O0FBQ0QsV0FBT0UsYUFBUDtBQUNEOztBQUVELE1BQUlBLGFBQUosRUFBbUI7QUFDakIsUUFBSUEsYUFBYSxDQUFDbEQsT0FBZCxLQUEwQmdELG9CQUE5QixFQUFvRDtBQUNsRCxhQUFPRSxhQUFQO0FBQ0Q7O0FBQ0QsUUFBSW5DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQXpCLElBQXlDaUMsYUFBYSxDQUFDbEQsT0FBM0QsRUFBb0U7QUFDbEVFLE1BQUFBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZK0MsYUFBYSxDQUFDbEQsT0FBMUIsRUFBbUNJLE9BQW5DLENBQTJDLFVBQUNDLEdBQUQsRUFBUztBQUNsRCxlQUFPNkMsYUFBYSxDQUFDdkMsU0FBZCxDQUF3Qk4sR0FBeEIsQ0FBUDtBQUNELE9BRkQ7QUFJQSxVQUFNNEIsV0FBVyxHQUFHaUIsYUFBYSxDQUFDbEQsT0FBbEM7QUFFQUYsTUFBQUEsT0FBTyxDQUFDb0QsYUFBRCxFQUFnQkYsb0JBQWhCLENBQVA7QUFDQTFCLE1BQUFBLE1BQU0sQ0FBQzRCLGFBQUQsRUFBZ0JqQixXQUFoQixDQUFOO0FBRUEsYUFBT2lCLGFBQVA7QUFDRDs7QUFFRCxVQUFNSSxLQUFLLDZCQUFzQlAsT0FBdEIsdUJBQVg7QUFDRDs7QUFqQ21ELE1BbUM5Q2hELE1BbkM4QztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBLDBDQXNDOUI7QUFBQTs7QUFDbEIsWUFBTXdELElBQUksR0FBRyxLQUFLZCxXQUFMLENBQWlCeEMsUUFBakIsQ0FBMEJ1RCxNQUExQixDQUFpQyxVQUFDQyxHQUFELEVBQU1oQyxFQUFOLEVBQWE7QUFDekQsY0FBTWlDLE1BQU0sR0FBR2pDLEVBQUUsQ0FBQyxNQUFELENBQWpCO0FBQ0EsY0FBSWlDLE1BQUosRUFBWUQsR0FBRyxDQUFDRSxHQUFKLENBQVFELE1BQVI7QUFDWixpQkFBT0QsR0FBUDtBQUNELFNBSlksRUFJVixJQUFJRyxHQUFKLEVBSlUsQ0FBYjtBQU1BM0QsUUFBQUEsUUFBUSxDQUFDUSxHQUFULENBQWEsSUFBYixFQUFtQjhDLElBQW5CO0FBQ0EvRCxRQUFBQSxrQkFBa0IsQ0FBQyxJQUFELENBQWxCO0FBQ0Q7QUEvQ2lEO0FBQUE7QUFBQSw2Q0FpRDNCO0FBQ3JCLFlBQU0rRCxJQUFJLEdBQUd0RCxRQUFRLENBQUNPLEdBQVQsQ0FBYSxJQUFiLENBQWI7QUFDQStDLFFBQUFBLElBQUksQ0FBQ25ELE9BQUwsQ0FBYSxVQUFBcUIsRUFBRTtBQUFBLGlCQUFJQSxFQUFFLEVBQU47QUFBQSxTQUFmO0FBQ0Q7QUFwRGlEO0FBQUE7QUFBQSwwQkFvQ2hDO0FBQUUsZUFBT3NCLE9BQVA7QUFBaUI7QUFwQ2E7O0FBQUE7QUFBQSxxQkFtQy9CYyxXQW5DK0I7O0FBdURwRC9ELEVBQUFBLE9BQU8sQ0FBQ0MsTUFBRCxFQUFTaUQsb0JBQVQsQ0FBUDtBQUNBSSxFQUFBQSxjQUFjLENBQUNDLE1BQWYsQ0FBc0JOLE9BQXRCLEVBQStCaEQsTUFBL0I7QUFFQSxTQUFPQSxNQUFQO0FBQ0Q7O0FBRUQsU0FBUytELFNBQVQsQ0FBbUJDLFFBQW5CLEVBQTZCO0FBQzNCLFNBQU83RCxNQUFNLENBQUNDLElBQVAsQ0FBWTRELFFBQVosRUFBc0JQLE1BQXRCLENBQTZCLFVBQUNDLEdBQUQsRUFBTXBELEdBQU4sRUFBYztBQUNoRCxRQUFNMEMsT0FBTyxHQUFHeEQsWUFBWSxDQUFDYyxHQUFELENBQTVCO0FBQ0FvRCxJQUFBQSxHQUFHLENBQUNwRCxHQUFELENBQUgsR0FBV3lDLGFBQWEsQ0FBQ0MsT0FBRCxFQUFVZ0IsUUFBUSxDQUFDMUQsR0FBRCxDQUFsQixDQUF4QjtBQUVBLFdBQU9vRCxHQUFQO0FBQ0QsR0FMTSxFQUtKLEVBTEksQ0FBUDtBQU1EOztBQUVELGVBQWUsU0FBU0osTUFBVCxHQUF5QjtBQUN0QyxNQUFJLDhEQUFtQixRQUF2QixFQUFpQztBQUMvQixXQUFPUyxTQUFTLGtEQUFoQjtBQUNEOztBQUVELFNBQU9oQixhQUFhLE1BQWIsbUJBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcm9wZXJ0eSBmcm9tICcuL3Byb3BlcnR5JztcbmltcG9ydCByZW5kZXIgZnJvbSAnLi9yZW5kZXInO1xuXG5pbXBvcnQgKiBhcyBjYWNoZSBmcm9tICcuL2NhY2hlJztcbmltcG9ydCB7IGRpc3BhdGNoLCBwYXNjYWxUb0Rhc2ggfSBmcm9tICcuL3V0aWxzJztcblxuZnVuY3Rpb24gZGlzcGF0Y2hJbnZhbGlkYXRlKGhvc3QpIHtcbiAgZGlzcGF0Y2goaG9zdCwgJ0BpbnZhbGlkYXRlJywgeyBidWJibGVzOiB0cnVlLCBjb21wb3NlZDogdHJ1ZSB9KTtcbn1cblxuY29uc3QgZGVmYXVsdEdldCA9IChob3N0LCB2YWx1ZSkgPT4gdmFsdWU7XG5cbmZ1bmN0aW9uIGNvbXBpbGUoSHlicmlkLCBoeWJyaWRzKSB7XG4gIEh5YnJpZC5oeWJyaWRzID0gaHlicmlkcztcbiAgSHlicmlkLmNvbm5lY3RzID0gW107XG5cbiAgT2JqZWN0LmtleXMoaHlicmlkcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgbGV0IGNvbmZpZyA9IGh5YnJpZHNba2V5XTtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGNvbmZpZztcblxuICAgIGlmICh0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25maWcgPSBrZXkgPT09ICdyZW5kZXInID8gcmVuZGVyKGNvbmZpZykgOiB7IGdldDogY29uZmlnIH07XG4gICAgfSBlbHNlIGlmIChjb25maWcgPT09IG51bGwgfHwgdHlwZSAhPT0gJ29iamVjdCcgfHwgKHR5cGUgPT09ICdvYmplY3QnICYmICFjb25maWcuZ2V0ICYmICFjb25maWcuc2V0KSkge1xuICAgICAgY29uZmlnID0gcHJvcGVydHkoY29uZmlnKTtcbiAgICB9XG5cbiAgICBjb25maWcuZ2V0ID0gY29uZmlnLmdldCB8fCBkZWZhdWx0R2V0O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZC5wcm90b3R5cGUsIGtleSwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBjYWNoZS5nZXQodGhpcywga2V5LCBjb25maWcuZ2V0KTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGNvbmZpZy5zZXQgJiYgZnVuY3Rpb24gc2V0KG5ld1ZhbHVlKSB7XG4gICAgICAgIGNhY2hlLnNldCh0aGlzLCBrZXksIGNvbmZpZy5zZXQsIG5ld1ZhbHVlLCAoKSA9PiBkaXNwYXRjaEludmFsaWRhdGUodGhpcykpO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsXG4gICAgfSk7XG5cbiAgICBpZiAoY29uZmlnLmNvbm5lY3QpIHtcbiAgICAgIEh5YnJpZC5jb25uZWN0cy5wdXNoKGhvc3QgPT4gY29uZmlnLmNvbm5lY3QoaG9zdCwga2V5LCAoY2xlYXJDYWNoZSA9IHRydWUpID0+IHtcbiAgICAgICAgaWYgKGNsZWFyQ2FjaGUpIGNhY2hlLmludmFsaWRhdGUoaG9zdCwga2V5KTtcbiAgICAgICAgZGlzcGF0Y2hJbnZhbGlkYXRlKGhvc3QpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSk7XG59XG5cbmxldCB1cGRhdGU7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgY29uc3Qgd2Fsa0luU2hhZG93ID0gKG5vZGUsIGZuKSA9PiB7XG4gICAgZm4obm9kZSk7XG5cbiAgICBBcnJheS5mcm9tKG5vZGUuY2hpbGRyZW4pXG4gICAgICAuZm9yRWFjaChlbCA9PiB3YWxrSW5TaGFkb3coZWwsIGZuKSk7XG5cbiAgICBpZiAobm9kZS5zaGFkb3dSb290KSB7XG4gICAgICBBcnJheS5mcm9tKG5vZGUuc2hhZG93Um9vdC5jaGlsZHJlbilcbiAgICAgICAgLmZvckVhY2goZWwgPT4gd2Fsa0luU2hhZG93KGVsLCBmbikpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVRdWV1ZSA9IG5ldyBNYXAoKTtcbiAgdXBkYXRlID0gKEh5YnJpZCwgbGFzdEh5YnJpZHMpID0+IHtcbiAgICBpZiAoIXVwZGF0ZVF1ZXVlLnNpemUpIHtcbiAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICB3YWxrSW5TaGFkb3coZG9jdW1lbnQuYm9keSwgKG5vZGUpID0+IHtcbiAgICAgICAgICBpZiAodXBkYXRlUXVldWUuaGFzKG5vZGUuY29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICBjb25zdCBoeWJyaWRzID0gdXBkYXRlUXVldWUuZ2V0KG5vZGUuY29uc3RydWN0b3IpO1xuICAgICAgICAgICAgbm9kZS5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhub2RlLmNvbnN0cnVjdG9yLmh5YnJpZHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICBjYWNoZS5pbnZhbGlkYXRlKG5vZGUsIGtleSwgbm9kZVtrZXldID09PSBoeWJyaWRzW2tleV0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG5vZGUuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIGRpc3BhdGNoSW52YWxpZGF0ZShub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVRdWV1ZS5jbGVhcigpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHVwZGF0ZVF1ZXVlLnNldChIeWJyaWQsIGxhc3RIeWJyaWRzKTtcbiAgfTtcbn1cblxuY29uc3QgY29ubmVjdHMgPSBuZXcgV2Vha01hcCgpO1xuXG5mdW5jdGlvbiBkZWZpbmVFbGVtZW50KHRhZ05hbWUsIGh5YnJpZHNPckNvbnN0cnVjdG9yKSB7XG4gIGNvbnN0IHR5cGUgPSB0eXBlb2YgaHlicmlkc09yQ29uc3RydWN0b3I7XG4gIGlmICh0eXBlICE9PSAnb2JqZWN0JyAmJiB0eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdbZGVmaW5lXSBJbnZhbGlkIHNlY29uZCBhcmd1bWVudC4gSXQgbXVzdCBiZSBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgY29uc3QgQ3VzdG9tRWxlbWVudCA9IHdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSk7XG5cbiAgaWYgKHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoQ3VzdG9tRWxlbWVudCAhPT0gaHlicmlkc09yQ29uc3RydWN0b3IpIHtcbiAgICAgIHJldHVybiB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGh5YnJpZHNPckNvbnN0cnVjdG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIEN1c3RvbUVsZW1lbnQ7XG4gIH1cblxuICBpZiAoQ3VzdG9tRWxlbWVudCkge1xuICAgIGlmIChDdXN0b21FbGVtZW50Lmh5YnJpZHMgPT09IGh5YnJpZHNPckNvbnN0cnVjdG9yKSB7XG4gICAgICByZXR1cm4gQ3VzdG9tRWxlbWVudDtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgQ3VzdG9tRWxlbWVudC5oeWJyaWRzKSB7XG4gICAgICBPYmplY3Qua2V5cyhDdXN0b21FbGVtZW50Lmh5YnJpZHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBkZWxldGUgQ3VzdG9tRWxlbWVudC5wcm90b3R5cGVba2V5XTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBsYXN0SHlicmlkcyA9IEN1c3RvbUVsZW1lbnQuaHlicmlkcztcblxuICAgICAgY29tcGlsZShDdXN0b21FbGVtZW50LCBoeWJyaWRzT3JDb25zdHJ1Y3Rvcik7XG4gICAgICB1cGRhdGUoQ3VzdG9tRWxlbWVudCwgbGFzdEh5YnJpZHMpO1xuXG4gICAgICByZXR1cm4gQ3VzdG9tRWxlbWVudDtcbiAgICB9XG5cbiAgICB0aHJvdyBFcnJvcihgW2RlZmluZV0gRWxlbWVudCAnJHt0YWdOYW1lfScgYWxyZWFkeSBkZWZpbmVkYCk7XG4gIH1cblxuICBjbGFzcyBIeWJyaWQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgc3RhdGljIGdldCBuYW1lKCkgeyByZXR1cm4gdGFnTmFtZTsgfVxuXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICBjb25zdCBsaXN0ID0gdGhpcy5jb25zdHJ1Y3Rvci5jb25uZWN0cy5yZWR1Y2UoKGFjYywgZm4pID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZm4odGhpcyk7XG4gICAgICAgIGlmIChyZXN1bHQpIGFjYy5hZGQocmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIG5ldyBTZXQoKSk7XG5cbiAgICAgIGNvbm5lY3RzLnNldCh0aGlzLCBsaXN0KTtcbiAgICAgIGRpc3BhdGNoSW52YWxpZGF0ZSh0aGlzKTtcbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIGNvbnN0IGxpc3QgPSBjb25uZWN0cy5nZXQodGhpcyk7XG4gICAgICBsaXN0LmZvckVhY2goZm4gPT4gZm4oKSk7XG4gICAgfVxuICB9XG5cbiAgY29tcGlsZShIeWJyaWQsIGh5YnJpZHNPckNvbnN0cnVjdG9yKTtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIEh5YnJpZCk7XG5cbiAgcmV0dXJuIEh5YnJpZDtcbn1cblxuZnVuY3Rpb24gZGVmaW5lTWFwKGVsZW1lbnRzKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhlbGVtZW50cykucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgIGNvbnN0IHRhZ05hbWUgPSBwYXNjYWxUb0Rhc2goa2V5KTtcbiAgICBhY2Nba2V5XSA9IGRlZmluZUVsZW1lbnQodGFnTmFtZSwgZWxlbWVudHNba2V5XSk7XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmluZSguLi5hcmdzKSB7XG4gIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZGVmaW5lTWFwKGFyZ3NbMF0pO1xuICB9XG5cbiAgcmV0dXJuIGRlZmluZUVsZW1lbnQoLi4uYXJncyk7XG59XG4iXX0=","var map = new WeakMap();\ndocument.addEventListener('@invalidate', function (event) {\n  var set = map.get(event.composedPath()[0]);\n  if (set) set.forEach(function (fn) {\n    return fn();\n  });\n});\n\nfunction walk(node, fn) {\n  var parentElement = node.parentElement || node.parentNode.host;\n\n  while (parentElement) {\n    var hybrids = parentElement.constructor.hybrids;\n\n    if (hybrids && fn(hybrids)) {\n      return parentElement;\n    }\n\n    parentElement = parentElement.parentElement || parentElement.parentNode && parentElement.parentNode.host;\n  }\n\n  return parentElement || null;\n}\n\nexport default function parent(hybridsOrFn) {\n  var fn = typeof hybridsOrFn === 'function' ? hybridsOrFn : function (hybrids) {\n    return hybrids === hybridsOrFn;\n  };\n  return {\n    get: function get(host) {\n      return walk(host, fn);\n    },\n    connect: function connect(host, key, invalidate) {\n      var target = host[key];\n\n      if (target) {\n        var set = map.get(target);\n\n        if (!set) {\n          set = new Set();\n          map.set(target, set);\n        }\n\n        set.add(invalidate);\n        return function () {\n          set.delete(invalidate);\n          invalidate();\n        };\n      }\n\n      return false;\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9wYXJlbnQuanMiXSwibmFtZXMiOlsibWFwIiwiV2Vha01hcCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwic2V0IiwiZ2V0IiwiY29tcG9zZWRQYXRoIiwiZm9yRWFjaCIsImZuIiwid2FsayIsIm5vZGUiLCJwYXJlbnRFbGVtZW50IiwicGFyZW50Tm9kZSIsImhvc3QiLCJoeWJyaWRzIiwiY29uc3RydWN0b3IiLCJwYXJlbnQiLCJoeWJyaWRzT3JGbiIsImNvbm5lY3QiLCJrZXkiLCJpbnZhbGlkYXRlIiwidGFyZ2V0IiwiU2V0IiwiYWRkIiwiZGVsZXRlIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFNQSxHQUFHLEdBQUcsSUFBSUMsT0FBSixFQUFaO0FBRUFDLFFBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEIsYUFBMUIsRUFBeUMsVUFBQ0MsS0FBRCxFQUFXO0FBQ2xELE1BQU1DLEdBQUcsR0FBR0wsR0FBRyxDQUFDTSxHQUFKLENBQVFGLEtBQUssQ0FBQ0csWUFBTixHQUFxQixDQUFyQixDQUFSLENBQVo7QUFDQSxNQUFJRixHQUFKLEVBQVNBLEdBQUcsQ0FBQ0csT0FBSixDQUFZLFVBQUFDLEVBQUU7QUFBQSxXQUFJQSxFQUFFLEVBQU47QUFBQSxHQUFkO0FBQ1YsQ0FIRDs7QUFLQSxTQUFTQyxJQUFULENBQWNDLElBQWQsRUFBb0JGLEVBQXBCLEVBQXdCO0FBQ3RCLE1BQUlHLGFBQWEsR0FBR0QsSUFBSSxDQUFDQyxhQUFMLElBQXNCRCxJQUFJLENBQUNFLFVBQUwsQ0FBZ0JDLElBQTFEOztBQUVBLFNBQU9GLGFBQVAsRUFBc0I7QUFDcEIsUUFBTUcsT0FBTyxHQUFHSCxhQUFhLENBQUNJLFdBQWQsQ0FBMEJELE9BQTFDOztBQUVBLFFBQUlBLE9BQU8sSUFBSU4sRUFBRSxDQUFDTSxPQUFELENBQWpCLEVBQTRCO0FBQzFCLGFBQU9ILGFBQVA7QUFDRDs7QUFFREEsSUFBQUEsYUFBYSxHQUFHQSxhQUFhLENBQUNBLGFBQWQsSUFDVkEsYUFBYSxDQUFDQyxVQUFkLElBQTRCRCxhQUFhLENBQUNDLFVBQWQsQ0FBeUJDLElBRDNEO0FBRUQ7O0FBRUQsU0FBT0YsYUFBYSxJQUFJLElBQXhCO0FBQ0Q7O0FBRUQsZUFBZSxTQUFTSyxNQUFULENBQWdCQyxXQUFoQixFQUE2QjtBQUMxQyxNQUFNVCxFQUFFLEdBQUcsT0FBT1MsV0FBUCxLQUF1QixVQUF2QixHQUFvQ0EsV0FBcEMsR0FBa0QsVUFBQUgsT0FBTztBQUFBLFdBQUlBLE9BQU8sS0FBS0csV0FBaEI7QUFBQSxHQUFwRTtBQUNBLFNBQU87QUFDTFosSUFBQUEsR0FBRyxFQUFFLGFBQUFRLElBQUk7QUFBQSxhQUFJSixJQUFJLENBQUNJLElBQUQsRUFBT0wsRUFBUCxDQUFSO0FBQUEsS0FESjtBQUVMVSxJQUFBQSxPQUZLLG1CQUVHTCxJQUZILEVBRVNNLEdBRlQsRUFFY0MsVUFGZCxFQUUwQjtBQUM3QixVQUFNQyxNQUFNLEdBQUdSLElBQUksQ0FBQ00sR0FBRCxDQUFuQjs7QUFFQSxVQUFJRSxNQUFKLEVBQVk7QUFDVixZQUFJakIsR0FBRyxHQUFHTCxHQUFHLENBQUNNLEdBQUosQ0FBUWdCLE1BQVIsQ0FBVjs7QUFDQSxZQUFJLENBQUNqQixHQUFMLEVBQVU7QUFDUkEsVUFBQUEsR0FBRyxHQUFHLElBQUlrQixHQUFKLEVBQU47QUFDQXZCLFVBQUFBLEdBQUcsQ0FBQ0ssR0FBSixDQUFRaUIsTUFBUixFQUFnQmpCLEdBQWhCO0FBQ0Q7O0FBRURBLFFBQUFBLEdBQUcsQ0FBQ21CLEdBQUosQ0FBUUgsVUFBUjtBQUVBLGVBQU8sWUFBTTtBQUNYaEIsVUFBQUEsR0FBRyxDQUFDb0IsTUFBSixDQUFXSixVQUFYO0FBQ0FBLFVBQUFBLFVBQVU7QUFDWCxTQUhEO0FBSUQ7O0FBRUQsYUFBTyxLQUFQO0FBQ0Q7QUFyQkksR0FBUDtBQXVCRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1hcCA9IG5ldyBXZWFrTWFwKCk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0BpbnZhbGlkYXRlJywgKGV2ZW50KSA9PiB7XG4gIGNvbnN0IHNldCA9IG1hcC5nZXQoZXZlbnQuY29tcG9zZWRQYXRoKClbMF0pO1xuICBpZiAoc2V0KSBzZXQuZm9yRWFjaChmbiA9PiBmbigpKTtcbn0pO1xuXG5mdW5jdGlvbiB3YWxrKG5vZGUsIGZuKSB7XG4gIGxldCBwYXJlbnRFbGVtZW50ID0gbm9kZS5wYXJlbnRFbGVtZW50IHx8IG5vZGUucGFyZW50Tm9kZS5ob3N0O1xuXG4gIHdoaWxlIChwYXJlbnRFbGVtZW50KSB7XG4gICAgY29uc3QgaHlicmlkcyA9IHBhcmVudEVsZW1lbnQuY29uc3RydWN0b3IuaHlicmlkcztcblxuICAgIGlmIChoeWJyaWRzICYmIGZuKGh5YnJpZHMpKSB7XG4gICAgICByZXR1cm4gcGFyZW50RWxlbWVudDtcbiAgICB9XG5cbiAgICBwYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50XG4gICAgICB8fCAocGFyZW50RWxlbWVudC5wYXJlbnROb2RlICYmIHBhcmVudEVsZW1lbnQucGFyZW50Tm9kZS5ob3N0KTtcbiAgfVxuXG4gIHJldHVybiBwYXJlbnRFbGVtZW50IHx8IG51bGw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcmVudChoeWJyaWRzT3JGbikge1xuICBjb25zdCBmbiA9IHR5cGVvZiBoeWJyaWRzT3JGbiA9PT0gJ2Z1bmN0aW9uJyA/IGh5YnJpZHNPckZuIDogaHlicmlkcyA9PiBoeWJyaWRzID09PSBoeWJyaWRzT3JGbjtcbiAgcmV0dXJuIHtcbiAgICBnZXQ6IGhvc3QgPT4gd2Fsayhob3N0LCBmbiksXG4gICAgY29ubmVjdChob3N0LCBrZXksIGludmFsaWRhdGUpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGhvc3Rba2V5XTtcblxuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBsZXQgc2V0ID0gbWFwLmdldCh0YXJnZXQpO1xuICAgICAgICBpZiAoIXNldCkge1xuICAgICAgICAgIHNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgICBtYXAuc2V0KHRhcmdldCwgc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldC5hZGQoaW52YWxpZGF0ZSk7XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICBzZXQuZGVsZXRlKGludmFsaWRhdGUpO1xuICAgICAgICAgIGludmFsaWRhdGUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gIH07XG59XG4iXX0=","var map = new WeakMap();\nexport var dataMap = {\n  get: function get(key, defaultValue) {\n    if (map.has(key)) {\n      return map.get(key);\n    }\n\n    if (defaultValue !== undefined) {\n      map.set(key, defaultValue);\n    }\n\n    return defaultValue;\n  },\n  set: function set(key, value) {\n    map.set(key, value);\n    return value;\n  }\n};\nexport function getTemplateEnd(node) {\n  var data; // eslint-disable-next-line no-cond-assign\n\n  while (node && (data = dataMap.get(node)) && data.endNode) {\n    node = data.endNode;\n  }\n\n  return node;\n}\nexport function removeTemplate(target) {\n  var data = dataMap.get(target);\n  var startNode = data.startNode;\n\n  if (startNode) {\n    var endNode = getTemplateEnd(data.endNode);\n    var node = startNode;\n    var lastNextSibling = endNode.nextSibling;\n\n    while (node) {\n      var nextSibling = node.nextSibling;\n      node.parentNode.removeChild(node);\n      node = nextSibling !== lastNextSibling && nextSibling;\n    }\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZW1wbGF0ZS91dGlscy5qcyJdLCJuYW1lcyI6WyJtYXAiLCJXZWFrTWFwIiwiZGF0YU1hcCIsImdldCIsImtleSIsImRlZmF1bHRWYWx1ZSIsImhhcyIsInVuZGVmaW5lZCIsInNldCIsInZhbHVlIiwiZ2V0VGVtcGxhdGVFbmQiLCJub2RlIiwiZGF0YSIsImVuZE5vZGUiLCJyZW1vdmVUZW1wbGF0ZSIsInRhcmdldCIsInN0YXJ0Tm9kZSIsImxhc3ROZXh0U2libGluZyIsIm5leHRTaWJsaW5nIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFNQSxHQUFHLEdBQUcsSUFBSUMsT0FBSixFQUFaO0FBQ0EsT0FBTyxJQUFNQyxPQUFPLEdBQUc7QUFDckJDLEVBQUFBLEdBRHFCLGVBQ2pCQyxHQURpQixFQUNaQyxZQURZLEVBQ0U7QUFDckIsUUFBSUwsR0FBRyxDQUFDTSxHQUFKLENBQVFGLEdBQVIsQ0FBSixFQUFrQjtBQUNoQixhQUFPSixHQUFHLENBQUNHLEdBQUosQ0FBUUMsR0FBUixDQUFQO0FBQ0Q7O0FBRUQsUUFBSUMsWUFBWSxLQUFLRSxTQUFyQixFQUFnQztBQUM5QlAsTUFBQUEsR0FBRyxDQUFDUSxHQUFKLENBQVFKLEdBQVIsRUFBYUMsWUFBYjtBQUNEOztBQUVELFdBQU9BLFlBQVA7QUFDRCxHQVhvQjtBQVlyQkcsRUFBQUEsR0FacUIsZUFZakJKLEdBWmlCLEVBWVpLLEtBWlksRUFZTDtBQUNkVCxJQUFBQSxHQUFHLENBQUNRLEdBQUosQ0FBUUosR0FBUixFQUFhSyxLQUFiO0FBQ0EsV0FBT0EsS0FBUDtBQUNEO0FBZm9CLENBQWhCO0FBa0JQLE9BQU8sU0FBU0MsY0FBVCxDQUF3QkMsSUFBeEIsRUFBOEI7QUFDbkMsTUFBSUMsSUFBSixDQURtQyxDQUVuQzs7QUFDQSxTQUFPRCxJQUFJLEtBQUtDLElBQUksR0FBR1YsT0FBTyxDQUFDQyxHQUFSLENBQVlRLElBQVosQ0FBWixDQUFKLElBQXNDQyxJQUFJLENBQUNDLE9BQWxELEVBQTJEO0FBQ3pERixJQUFBQSxJQUFJLEdBQUdDLElBQUksQ0FBQ0MsT0FBWjtBQUNEOztBQUVELFNBQU9GLElBQVA7QUFDRDtBQUVELE9BQU8sU0FBU0csY0FBVCxDQUF3QkMsTUFBeEIsRUFBZ0M7QUFDckMsTUFBTUgsSUFBSSxHQUFHVixPQUFPLENBQUNDLEdBQVIsQ0FBWVksTUFBWixDQUFiO0FBQ0EsTUFBTUMsU0FBUyxHQUFHSixJQUFJLENBQUNJLFNBQXZCOztBQUVBLE1BQUlBLFNBQUosRUFBZTtBQUNiLFFBQU1ILE9BQU8sR0FBR0gsY0FBYyxDQUFDRSxJQUFJLENBQUNDLE9BQU4sQ0FBOUI7QUFFQSxRQUFJRixJQUFJLEdBQUdLLFNBQVg7QUFDQSxRQUFNQyxlQUFlLEdBQUdKLE9BQU8sQ0FBQ0ssV0FBaEM7O0FBRUEsV0FBT1AsSUFBUCxFQUFhO0FBQ1gsVUFBTU8sV0FBVyxHQUFHUCxJQUFJLENBQUNPLFdBQXpCO0FBQ0FQLE1BQUFBLElBQUksQ0FBQ1EsVUFBTCxDQUFnQkMsV0FBaEIsQ0FBNEJULElBQTVCO0FBQ0FBLE1BQUFBLElBQUksR0FBR08sV0FBVyxLQUFLRCxlQUFoQixJQUFtQ0MsV0FBMUM7QUFDRDtBQUNGO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtYXAgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGNvbnN0IGRhdGFNYXAgPSB7XG4gIGdldChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmIChtYXAuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBtYXAuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBtYXAuc2V0KGtleSwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9LFxuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIG1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRlbXBsYXRlRW5kKG5vZGUpIHtcbiAgbGV0IGRhdGE7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25kLWFzc2lnblxuICB3aGlsZSAobm9kZSAmJiAoZGF0YSA9IGRhdGFNYXAuZ2V0KG5vZGUpKSAmJiBkYXRhLmVuZE5vZGUpIHtcbiAgICBub2RlID0gZGF0YS5lbmROb2RlO1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVUZW1wbGF0ZSh0YXJnZXQpIHtcbiAgY29uc3QgZGF0YSA9IGRhdGFNYXAuZ2V0KHRhcmdldCk7XG4gIGNvbnN0IHN0YXJ0Tm9kZSA9IGRhdGEuc3RhcnROb2RlO1xuXG4gIGlmIChzdGFydE5vZGUpIHtcbiAgICBjb25zdCBlbmROb2RlID0gZ2V0VGVtcGxhdGVFbmQoZGF0YS5lbmROb2RlKTtcblxuICAgIGxldCBub2RlID0gc3RhcnROb2RlO1xuICAgIGNvbnN0IGxhc3ROZXh0U2libGluZyA9IGVuZE5vZGUubmV4dFNpYmxpbmc7XG5cbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgY29uc3QgbmV4dFNpYmxpbmcgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgbm9kZSA9IG5leHRTaWJsaW5nICE9PSBsYXN0TmV4dFNpYmxpbmcgJiYgbmV4dFNpYmxpbmc7XG4gICAgfVxuICB9XG59XG4iXX0=","import { dataMap, removeTemplate, getTemplateEnd } from '../utils'; // eslint-disable-next-line import/no-cycle\n\nimport resolveValue from './value';\nvar arrayMap = new WeakMap();\n\nfunction movePlaceholder(target, previousSibling) {\n  var data = dataMap.get(target);\n  var startNode = data.startNode;\n  var endNode = getTemplateEnd(data.endNode);\n  previousSibling.parentNode.insertBefore(target, previousSibling.nextSibling);\n  var prevNode = target;\n  var node = startNode;\n\n  while (node) {\n    var nextNode = node.nextSibling;\n    prevNode.parentNode.insertBefore(node, prevNode.nextSibling);\n    prevNode = node;\n    node = nextNode !== endNode.nextSibling && nextNode;\n  }\n}\n\nexport default function resolveArray(host, target, value) {\n  var lastEntries = arrayMap.get(target);\n  var entries = value.map(function (item, index) {\n    return {\n      id: Object.prototype.hasOwnProperty.call(item, 'id') ? item.id : index,\n      value: item,\n      placeholder: null,\n      available: true\n    };\n  });\n  arrayMap.set(target, entries);\n\n  if (lastEntries) {\n    var ids = new Set();\n    entries.forEach(function (entry) {\n      return ids.add(entry.id);\n    });\n    lastEntries = lastEntries.filter(function (entry) {\n      if (!ids.has(entry.id)) {\n        removeTemplate(entry.placeholder);\n        entry.placeholder.parentNode.removeChild(entry.placeholder);\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  var previousSibling = target;\n  var lastIndex = value.length - 1;\n  var data = dataMap.get(target);\n  entries.forEach(function (entry, index) {\n    var matchedEntry = lastEntries && lastEntries.find(function (item) {\n      return item.available && item.id === entry.id;\n    });\n    var placeholder;\n\n    if (matchedEntry) {\n      matchedEntry.available = false;\n      placeholder = matchedEntry.placeholder;\n\n      if (placeholder.previousSibling !== previousSibling) {\n        movePlaceholder(placeholder, previousSibling);\n      }\n\n      if (matchedEntry.value !== entry.value) {\n        resolveValue(host, placeholder, entry.value);\n      }\n    } else {\n      placeholder = document.createTextNode('');\n      previousSibling.parentNode.insertBefore(placeholder, previousSibling.nextSibling);\n      resolveValue(host, placeholder, entry.value);\n    }\n\n    previousSibling = getTemplateEnd(dataMap.get(placeholder).endNode || placeholder);\n    if (index === 0) data.startNode = placeholder;\n    if (index === lastIndex) data.endNode = previousSibling;\n    entry.placeholder = placeholder;\n  });\n\n  if (lastEntries) {\n    lastEntries.forEach(function (entry) {\n      if (entry.available) {\n        removeTemplate(entry.placeholder);\n        entry.placeholder.parentNode.removeChild(entry.placeholder);\n      }\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvYXJyYXkuanMiXSwibmFtZXMiOlsiZGF0YU1hcCIsInJlbW92ZVRlbXBsYXRlIiwiZ2V0VGVtcGxhdGVFbmQiLCJyZXNvbHZlVmFsdWUiLCJhcnJheU1hcCIsIldlYWtNYXAiLCJtb3ZlUGxhY2Vob2xkZXIiLCJ0YXJnZXQiLCJwcmV2aW91c1NpYmxpbmciLCJkYXRhIiwiZ2V0Iiwic3RhcnROb2RlIiwiZW5kTm9kZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJuZXh0U2libGluZyIsInByZXZOb2RlIiwibm9kZSIsIm5leHROb2RlIiwicmVzb2x2ZUFycmF5IiwiaG9zdCIsInZhbHVlIiwibGFzdEVudHJpZXMiLCJlbnRyaWVzIiwibWFwIiwiaXRlbSIsImluZGV4IiwiaWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwbGFjZWhvbGRlciIsImF2YWlsYWJsZSIsInNldCIsImlkcyIsIlNldCIsImZvckVhY2giLCJlbnRyeSIsImFkZCIsImZpbHRlciIsImhhcyIsInJlbW92ZUNoaWxkIiwibGFzdEluZGV4IiwibGVuZ3RoIiwibWF0Y2hlZEVudHJ5IiwiZmluZCIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiXSwibWFwcGluZ3MiOiJBQUFBLFNBQ0VBLE9BREYsRUFDV0MsY0FEWCxFQUMyQkMsY0FEM0IsUUFFTyxVQUZQLEMsQ0FJQTs7QUFDQSxPQUFPQyxZQUFQLE1BQXlCLFNBQXpCO0FBRUEsSUFBTUMsUUFBUSxHQUFHLElBQUlDLE9BQUosRUFBakI7O0FBRUEsU0FBU0MsZUFBVCxDQUF5QkMsTUFBekIsRUFBaUNDLGVBQWpDLEVBQWtEO0FBQ2hELE1BQU1DLElBQUksR0FBR1QsT0FBTyxDQUFDVSxHQUFSLENBQVlILE1BQVosQ0FBYjtBQUNBLE1BQU1JLFNBQVMsR0FBR0YsSUFBSSxDQUFDRSxTQUF2QjtBQUNBLE1BQU1DLE9BQU8sR0FB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QUFLLENBQUNMLFNBQVYsRUFBcUI7QUFDbkJoQyxRQUFBQSxjQUFjLENBQUNxQyxLQUFLLENBQUNOLFdBQVAsQ0FBZDtBQUNBTSxRQUFBQSxLQUFLLENBQUNOLFdBQU4sQ0FBa0JuQixVQUFsQixDQUE2QjZCLFdBQTdCLENBQXlDSixLQUFLLENBQUNOLFdBQS9DO0FBQ0Q7QUFDRixLQUxEO0FBTUQ7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGRhdGFNYXAsIHJlbW92ZVRlbXBsYXRlLCBnZXRUZW1wbGF0ZUVuZCxcbn0gZnJvbSAnLi4vdXRpbHMnO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWN5Y2xlXG5pbXBvcnQgcmVzb2x2ZVZhbHVlIGZyb20gJy4vdmFsdWUnO1xuXG5jb25zdCBhcnJheU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5cbmZ1bmN0aW9uIG1vdmVQbGFjZWhvbGRlcih0YXJnZXQsIHByZXZpb3VzU2libGluZykge1xuICBjb25zdCBkYXRhID0gZGF0YU1hcC5nZXQodGFyZ2V0KTtcbiAgY29uc3Qgc3RhcnROb2RlID0gZGF0YS5zdGFydE5vZGU7XG4gIGNvbnN0IGVuZE5vZGUgPSBnZXRUZW1wbGF0ZUVuZChkYXRhLmVuZE5vZGUpO1xuXG4gIHByZXZpb3VzU2libGluZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0YXJnZXQsIHByZXZpb3VzU2libGluZy5uZXh0U2libGluZyk7XG5cbiAgbGV0IHByZXZOb2RlID0gdGFyZ2V0O1xuICBsZXQgbm9kZSA9IHN0YXJ0Tm9kZTtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBjb25zdCBuZXh0Tm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgcHJldk5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgcHJldk5vZGUubmV4dFNpYmxpbmcpO1xuICAgIHByZXZOb2RlID0gbm9kZTtcbiAgICBub2RlID0gbmV4dE5vZGUgIT09IGVuZE5vZGUubmV4dFNpYmxpbmcgJiYgbmV4dE5vZGU7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVzb2x2ZUFycmF5KGhvc3QsIHRhcmdldCwgdmFsdWUpIHtcbiAgbGV0IGxhc3RFbnRyaWVzID0gYXJyYXlNYXAuZ2V0KHRhcmdldCk7XG4gIGNvbnN0IGVudHJpZXMgPSB2YWx1ZS5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoe1xuICAgIGlkOiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaXRlbSwgJ2lkJykgPyBpdGVtLmlkIDogaW5kZXgsXG4gICAgdmFsdWU6IGl0ZW0sXG4gICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgYXZhaWxhYmxlOiB0cnVlLFxuICB9KSk7XG5cbiAgYXJyYXlNYXAuc2V0KHRhcmdldCwgZW50cmllcyk7XG5cbiAgaWYgKGxhc3RFbnRyaWVzKSB7XG4gICAgY29uc3QgaWRzID0gbmV3IFNldCgpO1xuICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiBpZHMuYWRkKGVudHJ5LmlkKSk7XG5cbiAgICBsYXN0RW50cmllcyA9IGxhc3RFbnRyaWVzLmZpbHRlcigoZW50cnkpID0+IHtcbiAgICAgIGlmICghaWRzLmhhcyhlbnRyeS5pZCkpIHtcbiAgICAgICAgcmVtb3ZlVGVtcGxhdGUoZW50cnkucGxhY2Vob2xkZXIpO1xuICAgICAgICBlbnRyeS5wbGFjZWhvbGRlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVudHJ5LnBsYWNlaG9sZGVyKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIGxldCBwcmV2aW91c1NpYmxpbmcgPSB0YXJnZXQ7XG4gIGNvbnN0IGxhc3RJbmRleCA9IHZhbHVlLmxlbmd0aCAtIDE7XG4gIGNvbnN0IGRhdGEgPSBkYXRhTWFwLmdldCh0YXJnZXQpO1xuXG4gIGVudHJpZXMuZm9yRWFjaCgoZW50cnksIGluZGV4KSA9PiB7XG4gICAgY29uc3QgbWF0Y2hlZEVudHJ5ID0gbGFzdEVudHJpZXNcbiAgICAgICYmIGxhc3RFbnRyaWVzLmZpbmQoaXRlbSA9PiBpdGVtLmF2YWlsYWJsZSAmJiBpdGVtLmlkID09PSBlbnRyeS5pZCk7XG5cbiAgICBsZXQgcGxhY2Vob2xkZXI7XG4gICAgaWYgKG1hdGNoZWRFbnRyeSkge1xuICAgICAgbWF0Y2hlZEVudHJ5LmF2YWlsYWJsZSA9IGZhbHNlO1xuICAgICAgcGxhY2Vob2xkZXIgPSBtYXRjaGVkRW50cnkucGxhY2Vob2xkZXI7XG5cbiAgICAgIGlmIChwbGFjZWhvbGRlci5wcmV2aW91c1NpYmxpbmcgIT09IHByZXZpb3VzU2libGluZykge1xuICAgICAgICBtb3ZlUGxhY2Vob2xkZXIocGxhY2Vob2xkZXIsIHByZXZpb3VzU2libGluZyk7XG4gICAgICB9XG4gICAgICBpZiAobWF0Y2hlZEVudHJ5LnZhbHVlICE9PSBlbnRyeS52YWx1ZSkge1xuICAgICAgICByZXNvbHZlVmFsdWUoaG9zdCwgcGxhY2Vob2xkZXIsIGVudHJ5LnZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICBwcmV2aW91c1NpYmxpbmcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocGxhY2Vob2xkZXIsIHByZXZpb3VzU2libGluZy5uZXh0U2libGluZyk7XG4gICAgICByZXNvbHZlVmFsdWUoaG9zdCwgcGxhY2Vob2xkZXIsIGVudHJ5LnZhbHVlKTtcbiAgICB9XG5cbiAgICBwcmV2aW91c1NpYmxpbmcgPSBnZXRUZW1wbGF0ZUVuZChkYXRhTWFwLmdldChwbGFjZWhvbGRlcikuZW5kTm9kZSB8fCBwbGFjZWhvbGRlcik7XG5cbiAgICBpZiAoaW5kZXggPT09IDApIGRhdGEuc3RhcnROb2RlID0gcGxhY2Vob2xkZXI7XG4gICAgaWYgKGluZGV4ID09PSBsYXN0SW5kZXgpIGRhdGEuZW5kTm9kZSA9IHByZXZpb3VzU2libGluZztcblxuICAgIGVudHJ5LnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gIH0pO1xuXG4gIGlmIChsYXN0RW50cmllcykge1xuICAgIGxhc3RFbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICBpZiAoZW50cnkuYXZhaWxhYmxlKSB7XG4gICAgICAgIHJlbW92ZVRlbXBsYXRlKGVudHJ5LnBsYWNlaG9sZGVyKTtcbiAgICAgICAgZW50cnkucGxhY2Vob2xkZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbnRyeS5wbGFjZWhvbGRlcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { dataMap, removeTemplate } from '../utils'; // eslint-disable-next-line import/no-cycle\n\nimport resolveArray from './array';\nexport default function resolveValue(host, target, value) {\n  var type = Array.isArray(value) ? 'array' : _typeof(value);\n  var data = dataMap.get(target, {});\n\n  if (data.type !== type) {\n    removeTemplate(target);\n    data = dataMap.set(target, {\n      type: type\n    });\n\n    if (target.textContent !== '') {\n      target.textContent = '';\n    }\n  }\n\n  switch (type) {\n    case 'function':\n      value(host, target);\n      break;\n\n    case 'array':\n      resolveArray(host, target, value);\n      break;\n\n    default:\n      target.textContent = type === 'number' || value ? value : '';\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvdmFsdWUuanMiXSwibmFtZXMiOlsiZGF0YU1hcCIsInJlbW92ZVRlbXBsYXRlIiwicmVzb2x2ZUFycmF5IiwicmVzb2x2ZVZhbHVlIiwiaG9zdCIsInRhcmdldCIsInZhbHVlIiwidHlwZSIsIkFycmF5IiwiaXNBcnJheSIsImRhdGEiLCJnZXQiLCJzZXQiLCJ0ZXh0Q29udGVudCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxPQUFULEVBQWtCQyxjQUFsQixRQUF3QyxVQUF4QyxDLENBQ0E7O0FBQ0EsT0FBT0MsWUFBUCxNQUF5QixTQUF6QjtBQUVBLGVBQWUsU0FBU0MsWUFBVCxDQUFzQkMsSUFBdEIsRUFBNEJDLE1BQTVCLEVBQW9DQyxLQUFwQyxFQUEyQztBQUN4RCxNQUFNQyxJQUFJLEdBQUdDLEtBQUssQ0FBQ0MsT0FBTixDQUFjSCxLQUFkLElBQXVCLE9BQXZCLFdBQXdDQSxLQUF4QyxDQUFiO0FBQ0EsTUFBSUksSUFBSSxHQUFHVixPQUFPLENBQUNXLEdBQVIsQ0FBWU4sTUFBWixFQUFvQixFQUFwQixDQUFYOztBQUVBLE1BQUlLLElBQUksQ0FBQ0gsSUFBTCxLQUFjQSxJQUFsQixFQUF3QjtBQUN0Qk4sSUFBQUEsY0FBYyxDQUFDSSxNQUFELENBQWQ7QUFDQUssSUFBQUEsSUFBSSxHQUFHVixPQUFPLENBQUNZLEdBQVIsQ0FBWVAsTUFBWixFQUFvQjtBQUFFRSxNQUFBQSxJQUFJLEVBQUpBO0FBQUYsS0FBcEIsQ0FBUDs7QUFFQSxRQUFJRixNQUFNLENBQUNRLFdBQVAsS0FBdUIsRUFBM0IsRUFBK0I7QUFDN0JSLE1BQUFBLE1BQU0sQ0FBQ1EsV0FBUCxHQUFxQixFQUFyQjtBQUNEO0FBQ0Y7O0FBRUQsVUFBUU4sSUFBUjtBQUNFLFNBQUssVUFBTDtBQUNFRCxNQUFBQSxLQUFLLENBQUNGLElBQUQsRUFBT0MsTUFBUCxDQUFMO0FBQ0E7O0FBQ0YsU0FBSyxPQUFMO0FBQ0VILE1BQUFBLFlBQVksQ0FBQ0UsSUFBRCxFQUFPQyxNQUFQLEVBQWVDLEtBQWYsQ0FBWjtBQUNBOztBQUNGO0FBQ0VELE1BQUFBLE1BQU0sQ0FBQ1EsV0FBUCxHQUFxQk4sSUFBSSxLQUFLLFFBQVQsSUFBcUJELEtBQXJCLEdBQTZCQSxLQUE3QixHQUFxQyxFQUExRDtBQVJKO0FBVUQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYXRhTWFwLCByZW1vdmVUZW1wbGF0ZSB9IGZyb20gJy4uL3V0aWxzJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tY3ljbGVcbmltcG9ydCByZXNvbHZlQXJyYXkgZnJvbSAnLi9hcnJheSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc29sdmVWYWx1ZShob3N0LCB0YXJnZXQsIHZhbHVlKSB7XG4gIGNvbnN0IHR5cGUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/ICdhcnJheScgOiB0eXBlb2YgdmFsdWU7XG4gIGxldCBkYXRhID0gZGF0YU1hcC5nZXQodGFyZ2V0LCB7fSk7XG5cbiAgaWYgKGRhdGEudHlwZSAhPT0gdHlwZSkge1xuICAgIHJlbW92ZVRlbXBsYXRlKHRhcmdldCk7XG4gICAgZGF0YSA9IGRhdGFNYXAuc2V0KHRhcmdldCwgeyB0eXBlIH0pO1xuXG4gICAgaWYgKHRhcmdldC50ZXh0Q29udGVudCAhPT0gJycpIHtcbiAgICAgIHRhcmdldC50ZXh0Q29udGVudCA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHZhbHVlKGhvc3QsIHRhcmdldCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdhcnJheSc6XG4gICAgICByZXNvbHZlQXJyYXkoaG9zdCwgdGFyZ2V0LCB2YWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGFyZ2V0LnRleHRDb250ZW50ID0gdHlwZSA9PT0gJ251bWJlcicgfHwgdmFsdWUgPyB2YWx1ZSA6ICcnO1xuICB9XG59XG4iXX0=","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar eventMap = new WeakMap();\nexport default function resolveEventListener(eventType) {\n  return function (host, target, value, lastValue) {\n    if (lastValue) {\n      target.removeEventListener(eventType, eventMap.get(lastValue), lastValue.options !== undefined ? lastValue.options : false);\n    }\n\n    if (value) {\n      if (typeof value !== 'function') {\n        throw Error(\"Event listener must be a function: \".concat(_typeof(value)));\n      }\n\n      eventMap.set(value, value.bind(null, host));\n      target.addEventListener(eventType, eventMap.get(value), value.options !== undefined ? value.options : false);\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvZXZlbnQuanMiXSwibmFtZXMiOlsiZXZlbnRNYXAiLCJXZWFrTWFwIiwicmVzb2x2ZUV2ZW50TGlzdGVuZXIiLCJldmVudFR5cGUiLCJob3N0IiwidGFyZ2V0IiwidmFsdWUiLCJsYXN0VmFsdWUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZ2V0Iiwib3B0aW9ucyIsInVuZGVmaW5lZCIsIkVycm9yIiwic2V0IiwiYmluZCIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsUUFBUSxHQUFHLElBQUlDLE9BQUosRUFBakI7QUFFQSxlQUFlLFNBQVNDLG9CQUFULENBQThCQyxTQUE5QixFQUF5QztBQUN0RCxTQUFPLFVBQUNDLElBQUQsRUFBT0MsTUFBUCxFQUFlQyxLQUFmLEVBQXNCQyxTQUF0QixFQUFvQztBQUN6QyxRQUFJQSxTQUFKLEVBQWU7QUFDYkYsTUFBQUEsTUFBTSxDQUFDRyxtQkFBUCxDQUNFTCxTQURGLEVBRUVILFFBQVEsQ0FBQ1MsR0FBVCxDQUFhRixTQUFiLENBRkYsRUFHRUEsU0FBUyxDQUFDRyxPQUFWLEtBQXNCQyxTQUF0QixHQUFrQ0osU0FBUyxDQUFDRyxPQUE1QyxHQUFzRCxLQUh4RDtBQUtEOztBQUVELFFBQUlKLEtBQUosRUFBVztBQUNULFVBQUksT0FBT0EsS0FBUCxLQUFpQixVQUFyQixFQUFpQztBQUMvQixjQUFNTSxLQUFLLHNEQUE4Q04sS0FBOUMsR0FBWDtBQUNEOztBQUVETixNQUFBQSxRQUFRLENBQUNhLEdBQVQsQ0FBYVAsS0FBYixFQUFvQkEsS0FBSyxDQUFDUSxJQUFOLENBQVcsSUFBWCxFQUFpQlYsSUFBakIsQ0FBcEI7QUFFQUMsTUFBQUEsTUFBTSxDQUFDVSxnQkFBUCxDQUNFWixTQURGLEVBRUVILFFBQVEsQ0FBQ1MsR0FBVCxDQUFhSCxLQUFiLENBRkYsRUFHRUEsS0FBSyxDQUFDSSxPQUFOLEtBQWtCQyxTQUFsQixHQUE4QkwsS0FBSyxDQUFDSSxPQUFwQyxHQUE4QyxLQUhoRDtBQUtEO0FBQ0YsR0F0QkQ7QUF1QkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBldmVudE1hcCA9IG5ldyBXZWFrTWFwKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc29sdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSkge1xuICByZXR1cm4gKGhvc3QsIHRhcmdldCwgdmFsdWUsIGxhc3RWYWx1ZSkgPT4ge1xuICAgIGlmIChsYXN0VmFsdWUpIHtcbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBldmVudFR5cGUsXG4gICAgICAgIGV2ZW50TWFwLmdldChsYXN0VmFsdWUpLFxuICAgICAgICBsYXN0VmFsdWUub3B0aW9ucyAhPT0gdW5kZWZpbmVkID8gbGFzdFZhbHVlLm9wdGlvbnMgOiBmYWxzZSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBFdmVudCBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb246ICR7dHlwZW9mIHZhbHVlfWApO1xuICAgICAgfVxuXG4gICAgICBldmVudE1hcC5zZXQodmFsdWUsIHZhbHVlLmJpbmQobnVsbCwgaG9zdCkpO1xuXG4gICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgZXZlbnRUeXBlLFxuICAgICAgICBldmVudE1hcC5nZXQodmFsdWUpLFxuICAgICAgICB2YWx1ZS5vcHRpb25zICE9PSB1bmRlZmluZWQgPyB2YWx1ZS5vcHRpb25zIDogZmFsc2UsXG4gICAgICApO1xuICAgIH1cbiAgfTtcbn1cbiJdfQ==","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction normalizeValue(value) {\n  var set = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Set();\n\n  if (Array.isArray(value)) {\n    value.forEach(function (className) {\n      return set.add(className);\n    });\n  } else if (value !== null && _typeof(value) === 'object') {\n    Object.keys(value).forEach(function (key) {\n      return value[key] && set.add(key);\n    });\n  } else {\n    set.add(value);\n  }\n\n  return set;\n}\n\nvar classMap = new WeakMap();\nexport default function resolveClassList(host, target, value) {\n  var previousList = classMap.get(target) || new Set();\n  var list = normalizeValue(value);\n  classMap.set(target, list);\n  list.forEach(function (className) {\n    target.classList.add(className);\n    previousList.delete(className);\n  });\n  previousList.forEach(function (className) {\n    target.classList.remove(className);\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvY2xhc3MuanMiXSwibmFtZXMiOlsibm9ybWFsaXplVmFsdWUiLCJ2YWx1ZSIsInNldCIsIlNldCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJjbGFzc05hbWUiLCJhZGQiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiY2xhc3NNYXAiLCJXZWFrTWFwIiwicmVzb2x2ZUNsYXNzTGlzdCIsImhvc3QiLCJ0YXJnZXQiLCJwcmV2aW91c0xpc3QiLCJnZXQiLCJsaXN0IiwiY2xhc3NMaXN0IiwiZGVsZXRlIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOztBQUFBLFNBQVNBLGNBQVQsQ0FBd0JDLEtBQXhCLEVBQWdEO0FBQUEsTUFBakJDLEdBQWlCLHVFQUFYLElBQUlDLEdBQUosRUFBVzs7QUFDOUMsTUFBSUMsS0FBSyxDQUFDQyxPQUFOLENBQWNKLEtBQWQsQ0FBSixFQUEwQjtBQUN4QkEsSUFBQUEsS0FBSyxDQUFDSyxPQUFOLENBQWMsVUFBQUMsU0FBUztBQUFBLGFBQUlMLEdBQUcsQ0FBQ00sR0FBSixDQUFRRCxTQUFSLENBQUo7QUFBQSxLQUF2QjtBQUNELEdBRkQsTUFFTyxJQUFJTixLQUFLLEtBQUssSUFBVixJQUFrQixRQUFPQSxLQUFQLE1BQWlCLFFBQXZDLEVBQWlEO0FBQ3REUSxJQUFBQSxNQUFNLENBQUNDLElBQVAsQ0FBWVQsS0FBWixFQUFtQkssT0FBbkIsQ0FBMkIsVUFBQUssR0FBRztBQUFBLGFBQUlWLEtBQUssQ0FBQ1UsR0FBRCxDQUFMLElBQWNULEdBQUcsQ0FBQ00sR0FBSixDQUFRRyxHQUFSLENBQWxCO0FBQUEsS0FBOUI7QUFDRCxHQUZNLE1BRUE7QUFDTFQsSUFBQUEsR0FBRyxDQUFDTSxHQUFKLENBQVFQLEtBQVI7QUFDRDs7QUFFRCxTQUFPQyxHQUFQO0FBQ0Q7O0FBRUQsSUFBTVUsUUFBUSxHQUFHLElBQUlDLE9BQUosRUFBakI7QUFFQSxlQUFlLFNBQVNDLGdCQUFULENBQTBCQyxJQUExQixFQUFnQ0MsTUFBaEMsRUFBd0NmLEtBQXhDLEVBQStDO0FBQzVELE1BQU1nQixZQUFZLEdBQUdMLFFBQVEsQ0FBQ00sR0FBVCxDQUFhRixNQUFiLEtBQXdCLElBQUliLEdBQUosRUFBN0M7QUFDQSxNQUFNZ0IsSUFBSSxHQUFHbkIsY0FBYyxDQUFDQyxLQUFELENBQTNCO0FBRUFXLEVBQUFBLFFBQVEsQ0FBQ1YsR0FBVCxDQUFhYyxNQUFiLEVBQXFCRyxJQUFyQjtBQUVBQSxFQUFBQSxJQUFJLENBQUNiLE9BQUwsQ0FBYSxVQUFDQyxTQUFELEVBQWU7QUFDMUJTLElBQUFBLE1BQU0sQ0FBQ0ksU0FBUCxDQUFpQlosR0FBakIsQ0FBcUJELFNBQXJCO0FBQ0FVLElBQUFBLFlBQVksQ0FBQ0ksTUFBYixDQUFvQmQsU0FBcEI7QUFDRCxHQUhEO0FBS0FVLEVBQUFBLFlBQVksQ0FBQ1gsT0FBYixDQUFxQixVQUFDQyxTQUFELEVBQWU7QUFDbENTLElBQUFBLE1BQU0sQ0FBQ0ksU0FBUCxDQUFpQkUsTUFBakIsQ0FBd0JmLFNBQXhCO0FBQ0QsR0FGRDtBQUdEIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUsIHNldCA9IG5ldyBTZXQoKSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICB2YWx1ZS5mb3JFYWNoKGNsYXNzTmFtZSA9PiBzZXQuYWRkKGNsYXNzTmFtZSkpO1xuICB9IGVsc2UgaWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBPYmplY3Qua2V5cyh2YWx1ZSkuZm9yRWFjaChrZXkgPT4gdmFsdWVba2V5XSAmJiBzZXQuYWRkKGtleSkpO1xuICB9IGVsc2Uge1xuICAgIHNldC5hZGQodmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIHNldDtcbn1cblxuY29uc3QgY2xhc3NNYXAgPSBuZXcgV2Vha01hcCgpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXNvbHZlQ2xhc3NMaXN0KGhvc3QsIHRhcmdldCwgdmFsdWUpIHtcbiAgY29uc3QgcHJldmlvdXNMaXN0ID0gY2xhc3NNYXAuZ2V0KHRhcmdldCkgfHwgbmV3IFNldCgpO1xuICBjb25zdCBsaXN0ID0gbm9ybWFsaXplVmFsdWUodmFsdWUpO1xuXG4gIGNsYXNzTWFwLnNldCh0YXJnZXQsIGxpc3QpO1xuXG4gIGxpc3QuZm9yRWFjaCgoY2xhc3NOYW1lKSA9PiB7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICBwcmV2aW91c0xpc3QuZGVsZXRlKGNsYXNzTmFtZSk7XG4gIH0pO1xuXG4gIHByZXZpb3VzTGlzdC5mb3JFYWNoKChjbGFzc05hbWUpID0+IHtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICB9KTtcbn1cbiJdfQ==","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { camelToDash, stringifyElement } from '../../utils';\nvar styleMap = new WeakMap();\nexport default function resolveStyle(host, target, value) {\n  if (value === null || _typeof(value) !== 'object') {\n    throw TypeError(\"Style value must be an object instance in \".concat(stringifyElement(target), \":\"), value);\n  }\n\n  var previousMap = styleMap.get(target) || new Map();\n  var nextMap = Object.keys(value).reduce(function (map, key) {\n    var dashKey = camelToDash(key);\n    var styleValue = value[key];\n\n    if (!styleValue && styleValue !== 0) {\n      target.style.removeProperty(dashKey);\n    } else {\n      target.style.setProperty(dashKey, styleValue);\n    }\n\n    map.set(dashKey, styleValue);\n    previousMap.delete(dashKey);\n    return map;\n  }, new Map());\n  previousMap.forEach(function (styleValue, key) {\n    target.style[key] = '';\n  });\n  styleMap.set(target, nextMap);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvc3R5bGUuanMiXSwibmFtZXMiOlsiY2FtZWxUb0Rhc2giLCJzdHJpbmdpZnlFbGVtZW50Iiwic3R5bGVNYXAiLCJXZWFrTWFwIiwicmVzb2x2ZVN0eWxlIiwiaG9zdCIsInRhcmdldCIsInZhbHVlIiwiVHlwZUVycm9yIiwicHJldmlvdXNNYXAiLCJnZXQiLCJNYXAiLCJuZXh0TWFwIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsIm1hcCIsImtleSIsImRhc2hLZXkiLCJzdHlsZVZhbHVlIiwic3R5bGUiLCJyZW1vdmVQcm9wZXJ0eSIsInNldFByb3BlcnR5Iiwic2V0IiwiZGVsZXRlIiwiZm9yRWFjaCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxXQUFULEVBQXNCQyxnQkFBdEIsUUFBOEMsYUFBOUM7QUFFQSxJQUFNQyxRQUFRLEdBQUcsSUFBSUMsT0FBSixFQUFqQjtBQUVBLGVBQWUsU0FBU0MsWUFBVCxDQUFzQkMsSUFBdEIsRUFBNEJDLE1BQTVCLEVBQW9DQyxLQUFwQyxFQUEyQztBQUN4RCxNQUFJQSxLQUFLLEtBQUssSUFBVixJQUFrQixRQUFPQSxLQUFQLE1BQWlCLFFBQXZDLEVBQWlEO0FBQy9DLFVBQU1DLFNBQVMscURBQThDUCxnQkFBZ0IsQ0FBQ0ssTUFBRCxDQUE5RCxRQUEyRUMsS0FBM0UsQ0FBZjtBQUNEOztBQUVELE1BQU1FLFdBQVcsR0FBR1AsUUFBUSxDQUFDUSxHQUFULENBQWFKLE1BQWIsS0FBd0IsSUFBSUssR0FBSixFQUE1QztBQUVBLE1BQU1DLE9BQU8sR0FBR0MsTUFBTSxDQUFDQyxJQUFQLENBQVlQLEtBQVosRUFBbUJRLE1BQW5CLENBQTBCLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQ3RELFFBQU1DLE9BQU8sR0FBR2xCLFdBQVcsQ0FBQ2lCLEdBQUQsQ0FBM0I7QUFDQSxRQUFNRSxVQUFVLEdBQUdaLEtBQUssQ0FBQ1UsR0FBRCxDQUF4Qjs7QUFFQSxRQUFJLENBQUNFLFVBQUQsSUFBZUEsVUFBVSxLQUFLLENBQWxDLEVBQXFDO0FBQ25DYixNQUFBQSxNQUFNLENBQUNjLEtBQVAsQ0FBYUMsY0FBYixDQUE0QkgsT0FBNUI7QUFDRCxLQUZELE1BRU87QUFDTFosTUFBQUEsTUFBTSxDQUFDYyxLQUFQLENBQWFFLFdBQWIsQ0FBeUJKLE9BQXpCLEVBQWtDQyxVQUFsQztBQUNEOztBQUVESCxJQUFBQSxHQUFHLENBQUNPLEdBQUosQ0FBUUwsT0FBUixFQUFpQkMsVUFBakI7QUFDQVYsSUFBQUEsV0FBVyxDQUFDZSxNQUFaLENBQW1CTixPQUFuQjtBQUVBLFdBQU9GLEdBQVA7QUFDRCxHQWRlLEVBY2IsSUFBSUwsR0FBSixFQWRhLENBQWhCO0FBZ0JBRixFQUFBQSxXQUFXLENBQUNnQixPQUFaLENBQW9CLFVBQUNOLFVBQUQsRUFBYUYsR0FBYixFQUFxQjtBQUFFWCxJQUFBQSxNQUFNLENBQUNjLEtBQVAsQ0FBYUgsR0FBYixJQUFvQixFQUFwQjtBQUF5QixHQUFwRTtBQUVBZixFQUFBQSxRQUFRLENBQUNxQixHQUFULENBQWFqQixNQUFiLEVBQXFCTSxPQUFyQjtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2FtZWxUb0Rhc2gsIHN0cmluZ2lmeUVsZW1lbnQgfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbmNvbnN0IHN0eWxlTWFwID0gbmV3IFdlYWtNYXAoKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVzb2x2ZVN0eWxlKGhvc3QsIHRhcmdldCwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoYFN0eWxlIHZhbHVlIG11c3QgYmUgYW4gb2JqZWN0IGluc3RhbmNlIGluICR7c3RyaW5naWZ5RWxlbWVudCh0YXJnZXQpfTpgLCB2YWx1ZSk7XG4gIH1cblxuICBjb25zdCBwcmV2aW91c01hcCA9IHN0eWxlTWFwLmdldCh0YXJnZXQpIHx8IG5ldyBNYXAoKTtcblxuICBjb25zdCBuZXh0TWFwID0gT2JqZWN0LmtleXModmFsdWUpLnJlZHVjZSgobWFwLCBrZXkpID0+IHtcbiAgICBjb25zdCBkYXNoS2V5ID0gY2FtZWxUb0Rhc2goa2V5KTtcbiAgICBjb25zdCBzdHlsZVZhbHVlID0gdmFsdWVba2V5XTtcblxuICAgIGlmICghc3R5bGVWYWx1ZSAmJiBzdHlsZVZhbHVlICE9PSAwKSB7XG4gICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoZGFzaEtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eShkYXNoS2V5LCBzdHlsZVZhbHVlKTtcbiAgICB9XG5cbiAgICBtYXAuc2V0KGRhc2hLZXksIHN0eWxlVmFsdWUpO1xuICAgIHByZXZpb3VzTWFwLmRlbGV0ZShkYXNoS2V5KTtcblxuICAgIHJldHVybiBtYXA7XG4gIH0sIG5ldyBNYXAoKSk7XG5cbiAgcHJldmlvdXNNYXAuZm9yRWFjaCgoc3R5bGVWYWx1ZSwga2V5KSA9PiB7IHRhcmdldC5zdHlsZVtrZXldID0gJyc7IH0pO1xuXG4gIHN0eWxlTWFwLnNldCh0YXJnZXQsIG5leHRNYXApO1xufVxuIl19","import resolveEventListener from './event';\nimport resolveClassList from './class';\nimport resolveStyleList from './style';\nexport default function resolveProperty(attrName, propertyName, isSVG) {\n  if (propertyName.substr(0, 2) === 'on') {\n    var eventType = propertyName.substr(2);\n    return resolveEventListener(eventType);\n  }\n\n  switch (attrName) {\n    case 'class':\n      return resolveClassList;\n\n    case 'style':\n      return resolveStyleList;\n\n    default:\n      return function (host, target, value) {\n        if (!isSVG && !(target instanceof SVGElement) && propertyName in target) {\n          if (target[propertyName] !== value) {\n            target[propertyName] = value;\n          }\n        } else if (value === false || value === undefined || value === null) {\n          target.removeAttribute(attrName);\n        } else {\n          var attrValue = value === true ? '' : String(value);\n          target.setAttribute(attrName, attrValue);\n        }\n      };\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvcHJvcGVydHkuanMiXSwibmFtZXMiOlsicmVzb2x2ZUV2ZW50TGlzdGVuZXIiLCJyZXNvbHZlQ2xhc3NMaXN0IiwicmVzb2x2ZVN0eWxlTGlzdCIsInJlc29sdmVQcm9wZXJ0eSIsImF0dHJOYW1lIiwicHJvcGVydHlOYW1lIiwiaXNTVkciLCJzdWJzdHIiLCJldmVudFR5cGUiLCJob3N0IiwidGFyZ2V0IiwidmFsdWUiLCJTVkdFbGVtZW50IiwidW5kZWZpbmVkIiwicmVtb3ZlQXR0cmlidXRlIiwiYXR0clZhbHVlIiwiU3RyaW5nIiwic2V0QXR0cmlidXRlIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxvQkFBUCxNQUFpQyxTQUFqQztBQUNBLE9BQU9DLGdCQUFQLE1BQTZCLFNBQTdCO0FBQ0EsT0FBT0MsZ0JBQVAsTUFBNkIsU0FBN0I7QUFFQSxlQUFlLFNBQVNDLGVBQVQsQ0FBeUJDLFFBQXpCLEVBQW1DQyxZQUFuQyxFQUFpREMsS0FBakQsRUFBd0Q7QUFDckUsTUFBSUQsWUFBWSxDQUFDRSxNQUFiLENBQW9CLENBQXBCLEVBQXVCLENBQXZCLE1BQThCLElBQWxDLEVBQXdDO0FBQ3RDLFFBQU1DLFNBQVMsR0FBR0gsWUFBWSxDQUFDRSxNQUFiLENBQW9CLENBQXBCLENBQWxCO0FBQ0EsV0FBT1Asb0JBQW9CLENBQUNRLFNBQUQsQ0FBM0I7QUFDRDs7QUFFRCxVQUFRSixRQUFSO0FBQ0UsU0FBSyxPQUFMO0FBQWMsYUFBT0gsZ0JBQVA7O0FBQ2QsU0FBSyxPQUFMO0FBQWMsYUFBT0MsZ0JBQVA7O0FBQ2Q7QUFDRSxhQUFPLFVBQUNPLElBQUQsRUFBT0MsTUFBUCxFQUFlQyxLQUFmLEVBQXlCO0FBQzlCLFlBQUksQ0FBQ0wsS0FBRCxJQUFVLEVBQUVJLE1BQU0sWUFBWUUsVUFBcEIsQ0FBVixJQUE4Q1AsWUFBWSxJQUFJSyxNQUFsRSxFQUEyRTtBQUN6RSxjQUFJQSxNQUFNLENBQUNMLFlBQUQsQ0FBTixLQUF5Qk0sS0FBN0IsRUFBb0M7QUFDbENELFlBQUFBLE1BQU0sQ0FBQ0wsWUFBRCxDQUFOLEdBQXVCTSxLQUF2QjtBQUNEO0FBQ0YsU0FKRCxNQUlPLElBQUlBLEtBQUssS0FBSyxLQUFWLElBQW1CQSxLQUFLLEtBQUtFLFNBQTdCLElBQTBDRixLQUFLLEtBQUssSUFBeEQsRUFBOEQ7QUFDbkVELFVBQUFBLE1BQU0sQ0FBQ0ksZUFBUCxDQUF1QlYsUUFBdkI7QUFDRCxTQUZNLE1BRUE7QUFDTCxjQUFNVyxTQUFTLEdBQUdKLEtBQUssS0FBSyxJQUFWLEdBQWlCLEVBQWpCLEdBQXNCSyxNQUFNLENBQUNMLEtBQUQsQ0FBOUM7QUFDQUQsVUFBQUEsTUFBTSxDQUFDTyxZQUFQLENBQW9CYixRQUFwQixFQUE4QlcsU0FBOUI7QUFDRDtBQUNGLE9BWEQ7QUFKSjtBQWlCRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZXNvbHZlRXZlbnRMaXN0ZW5lciBmcm9tICcuL2V2ZW50JztcbmltcG9ydCByZXNvbHZlQ2xhc3NMaXN0IGZyb20gJy4vY2xhc3MnO1xuaW1wb3J0IHJlc29sdmVTdHlsZUxpc3QgZnJvbSAnLi9zdHlsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc29sdmVQcm9wZXJ0eShhdHRyTmFtZSwgcHJvcGVydHlOYW1lLCBpc1NWRykge1xuICBpZiAocHJvcGVydHlOYW1lLnN1YnN0cigwLCAyKSA9PT0gJ29uJykge1xuICAgIGNvbnN0IGV2ZW50VHlwZSA9IHByb3BlcnR5TmFtZS5zdWJzdHIoMik7XG4gICAgcmV0dXJuIHJlc29sdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSk7XG4gIH1cblxuICBzd2l0Y2ggKGF0dHJOYW1lKSB7XG4gICAgY2FzZSAnY2xhc3MnOiByZXR1cm4gcmVzb2x2ZUNsYXNzTGlzdDtcbiAgICBjYXNlICdzdHlsZSc6IHJldHVybiByZXNvbHZlU3R5bGVMaXN0O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gKGhvc3QsIHRhcmdldCwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKCFpc1NWRyAmJiAhKHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpICYmIChwcm9wZXJ0eU5hbWUgaW4gdGFyZ2V0KSkge1xuICAgICAgICAgIGlmICh0YXJnZXRbcHJvcGVydHlOYW1lXSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gdmFsdWUgPT09IHRydWUgPyAnJyA6IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0clZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgfVxufVxuIl19","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { stringifyElement, shadyCSS, IS_IE } from '../utils';\nimport { dataMap, removeTemplate } from './utils';\nimport resolveValue from './resolvers/value';\nimport resolveProperty from './resolvers/property';\nvar TIMESTAMP = Date.now();\n\nvar getPlaceholder = function getPlaceholder() {\n  var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return \"{{h-\".concat(TIMESTAMP, \"-\").concat(id, \"}}\");\n};\n\nvar PLACEHOLDER_REGEXP_TEXT = getPlaceholder('(\\\\d+)');\nvar PLACEHOLDER_REGEXP_EQUAL = new RegExp(\"^\".concat(PLACEHOLDER_REGEXP_TEXT, \"$\"));\nvar PLACEHOLDER_REGEXP_ALL = new RegExp(PLACEHOLDER_REGEXP_TEXT, 'g');\nvar ATTR_PREFIX = \"--\".concat(TIMESTAMP, \"--\");\nvar ATTR_REGEXP = new RegExp(ATTR_PREFIX, 'g');\nvar preparedTemplates = new WeakMap();\n/* istanbul ignore next */\n\nfunction applyShadyCSS(template, tagName) {\n  if (!tagName) return template;\n  return shadyCSS(function (shady) {\n    var map = preparedTemplates.get(template);\n\n    if (!map) {\n      map = new Map();\n      preparedTemplates.set(template, map);\n    }\n\n    var clone = map.get(tagName);\n\n    if (!clone) {\n      clone = document.createElement('template');\n      clone.content.appendChild(template.content.cloneNode(true));\n      map.set(tagName, clone);\n      var styles = clone.content.querySelectorAll('style');\n      Array.from(styles).forEach(function (style) {\n        var count = style.childNodes.length + 1;\n\n        for (var i = 0; i < count; i += 1) {\n          style.parentNode.insertBefore(document.createTextNode(getPlaceholder()), style);\n        }\n      });\n      shady.prepareTemplate(clone, tagName.toLowerCase());\n    }\n\n    return clone;\n  }, template);\n}\n\nexport function createId(parts, isSVG) {\n  return \"\".concat(isSVG ? 'svg:' : '').concat(parts.join(getPlaceholder()));\n}\n\nfunction createSignature(parts) {\n  var signature = parts.reduce(function (acc, part, index) {\n    if (index === 0) {\n      return part;\n    }\n\n    if (parts.slice(index).join('').match(/\\s*<\\/\\s*(table|tr|thead|tbody|tfoot|colgroup)>/)) {\n      return \"\".concat(acc, \"<!--\").concat(getPlaceholder(index - 1), \"-->\").concat(part);\n    }\n\n    return acc + getPlaceholder(index - 1) + part;\n  }, '');\n  /* istanbul ignore if */\n\n  if (IS_IE) {\n    return signature.replace(/style\\s*=\\s*([\"][^\"]+[\"]|['][^']+[']|[^\\s\"'<>/]+)/g, function (match) {\n      return \"\".concat(ATTR_PREFIX).concat(match);\n    });\n  }\n\n  return signature;\n}\n\nfunction getPropertyName(string) {\n  return string.replace(/\\s*=\\s*['\"]*$/g, '').split(' ').pop();\n}\n\nfunction replaceComments(fragment) {\n  var iterator = document.createNodeIterator(fragment, NodeFilter.SHOW_COMMENT, null, false);\n  var node; // eslint-disable-next-line no-cond-assign\n\n  while (node = iterator.nextNode()) {\n    if (PLACEHOLDER_REGEXP_EQUAL.test(node.textContent)) {\n      node.parentNode.insertBefore(document.createTextNode(node.textContent), node);\n      node.parentNode.removeChild(node);\n    }\n  }\n}\n\nexport function createInternalWalker(context) {\n  var node;\n  return {\n    get currentNode() {\n      return node;\n    },\n\n    nextNode: function nextNode() {\n      if (node === undefined) {\n        node = context.childNodes[0];\n      } else if (node.childNodes.length) {\n        node = node.childNodes[0];\n      } else if (node.nextSibling) {\n        node = node.nextSibling;\n      } else {\n        node = node.parentNode.nextSibling;\n      }\n\n      return !!node;\n    }\n  };\n}\n\nfunction createExternalWalker(context) {\n  return document.createTreeWalker(context, // eslint-disable-next-line no-bitwise\n  NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT, null, false);\n}\n/* istanbul ignore next */\n\n\nvar createWalker = _typeof(window.ShadyDOM) === 'object' && window.ShadyDOM.inUse ? createInternalWalker : createExternalWalker;\nvar container = document.createElement('div');\nexport function compile(rawParts, isSVG) {\n  var template = document.createElement('template');\n  var parts = [];\n  var signature = createSignature(rawParts);\n  if (isSVG) signature = \"<svg>\".concat(signature, \"</svg>\");\n  /* istanbul ignore if */\n\n  if (IS_IE) {\n    template.innerHTML = signature;\n  } else {\n    container.innerHTML = \"<template>\".concat(signature, \"</template>\");\n    template.content.appendChild(container.children[0].content);\n  }\n\n  if (isSVG) {\n    var svgRoot = template.content.firstChild;\n    template.content.removeChild(svgRoot);\n    Array.from(svgRoot.childNodes).forEach(function (node) {\n      return template.content.appendChild(node);\n    });\n  }\n\n  replaceComments(template.content);\n  var compileWalker = createWalker(template.content);\n  var compileIndex = 0;\n\n  var _loop = function _loop() {\n    var node = compileWalker.currentNode;\n\n    if (node.nodeType === Node.TEXT_NODE) {\n      var text = node.textContent;\n\n      if (!text.match(PLACEHOLDER_REGEXP_EQUAL)) {\n        var results = text.match(PLACEHOLDER_REGEXP_ALL);\n\n        if (results) {\n          var currentNode = node;\n          results.reduce(function (acc, placeholder) {\n            var _acc$pop$split = acc.pop().split(placeholder),\n                _acc$pop$split2 = _slicedToArray(_acc$pop$split, 2),\n                before = _acc$pop$split2[0],\n                next = _acc$pop$split2[1];\n\n            if (before) acc.push(before);\n            acc.push(placeholder);\n            if (next) acc.push(next);\n            return acc;\n          }, [text]).forEach(function (part, index) {\n            if (index === 0) {\n              currentNode.textContent = part;\n            } else {\n              currentNode = currentNode.parentNode.insertBefore(document.createTextNode(part), currentNode.nextSibling);\n            }\n          });\n        }\n      }\n\n      var equal = node.textContent.match(PLACEHOLDER_REGEXP_EQUAL);\n\n      if (equal) {\n        /* istanbul ignore else */\n        if (!IS_IE) node.textContent = '';\n        parts[equal[1]] = [compileIndex, resolveValue];\n      }\n    } else {\n      /* istanbul ignore else */\n      // eslint-disable-next-line no-lonely-if\n      if (node.nodeType === Node.ELEMENT_NODE) {\n        Array.from(node.attributes).forEach(function (attr) {\n          var value = attr.value.trim();\n          /* istanbul ignore next */\n\n          var name = IS_IE ? attr.name.replace(ATTR_PREFIX, '') : attr.name;\n          var equal = value.match(PLACEHOLDER_REGEXP_EQUAL);\n\n          if (equal) {\n            var propertyName = getPropertyName(rawParts[equal[1]]);\n            parts[equal[1]] = [compileIndex, resolveProperty(name, propertyName, isSVG)];\n            node.removeAttribute(attr.name);\n          } else {\n            var _results = value.match(PLACEHOLDER_REGEXP_ALL);\n\n            if (_results) {\n              var partialName = \"attr__\".concat(name);\n\n              _results.forEach(function (placeholder, index) {\n                var _placeholder$match = placeholder.match(PLACEHOLDER_REGEXP_EQUAL),\n                    _placeholder$match2 = _slicedToArray(_placeholder$match, 2),\n                    id = _placeholder$match2[1];\n\n                parts[id] = [compileIndex, function (host, target, attrValue) {\n                  var data = dataMap.get(target, {});\n                  data[partialName] = (data[partialName] || value).replace(placeholder, attrValue == null ? '' : attrValue);\n\n                  if (_results.length === 1 || index + 1 === _results.length) {\n                    target.setAttribute(name, data[partialName]);\n                    data[partialName] = undefined;\n                  }\n                }];\n              });\n\n              attr.value = '';\n              /* istanbul ignore next */\n\n              if (IS_IE && name !== attr.name) {\n                node.removeAttribute(attr.name);\n                node.setAttribute(name, '');\n              }\n            }\n          }\n        });\n      }\n    }\n\n    compileIndex += 1;\n  };\n\n  while (compileWalker.nextNode()) {\n    _loop();\n  }\n\n  return function (host, target, args) {\n    var data = dataMap.get(target, {\n      type: 'function'\n    });\n\n    if (template !== data.template) {\n      if (data.template) removeTemplate(target);\n      var fragment = document.importNode(applyShadyCSS(template, host.tagName).content, true);\n      var renderWalker = createWalker(fragment);\n      var clonedParts = parts.slice(0);\n      var renderIndex = 0;\n      var currentPart = clonedParts.shift();\n      var markers = [];\n      Object.assign(data, {\n        template: template,\n        markers: markers\n      });\n\n      while (renderWalker.nextNode()) {\n        var node = renderWalker.currentNode;\n\n        if (node.nodeType === Node.TEXT_NODE) {\n          /* istanbul ignore next */\n          if (PLACEHOLDER_REGEXP_EQUAL.test(node.textContent)) {\n            node.textContent = '';\n          } else if (IS_IE) {\n            node.textContent = node.textContent.replace(ATTR_REGEXP, '');\n          }\n        } else if (process.env.NODE_ENV !== 'production' && node.nodeType === Node.ELEMENT_NODE) {\n          if (node.tagName.indexOf('-') > -1 && !customElements.get(node.tagName.toLowerCase())) {\n            throw Error(\"Missing '\".concat(stringifyElement(node), \"' element definition in '\").concat(stringifyElement(host), \"'\"));\n          }\n        }\n\n        while (currentPart && currentPart[0] === renderIndex) {\n          markers.push([node, currentPart[1]]);\n          currentPart = clonedParts.shift();\n        }\n\n        renderIndex += 1;\n      }\n\n      var childList = Array.from(fragment.childNodes);\n      data.startNode = childList[0];\n      data.endNode = childList[childList.length - 1];\n\n      if (target.nodeType === Node.TEXT_NODE) {\n        var previousChild = target;\n        childList.forEach(function (child) {\n          target.parentNode.insertBefore(child, previousChild.nextSibling);\n          previousChild = child;\n        });\n      } else {\n        target.appendChild(fragment);\n      }\n    }\n\n    data.markers.forEach(function (_ref, index) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          node = _ref2[0],\n          fn = _ref2[1];\n\n      if (data.lastArgs && data.lastArgs[index] === args[index]) return;\n      fn(host, node, args[index], data.lastArgs ? data.lastArgs[index] : undefined);\n    });\n    data.lastArgs = args;\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZW1wbGF0ZS9jb3JlLmpzIl0sIm5hbWVzIjpbInN0cmluZ2lmeUVsZW1lbnQiLCJzaGFkeUNTUyIsIklTX0lFIiwiZGF0YU1hcCIsInJlbW92ZVRlbXBsYXRlIiwicmVzb2x2ZVZhbHVlIiwicmVzb2x2ZVByb3BlcnR5IiwiVElNRVNUQU1QIiwiRGF0ZSIsIm5vdyIsImdldFBsYWNlaG9sZGVyIiwiaWQiLCJQTEFDRUhPTERFUl9SRUdFWFBfVEVYVCIsIlBMQUNFSE9MREVSX1JFR0VYUF9FUVVBTCIsIlJlZ0V4cCIsIlBMQUNFSE9MREVSX1JFR0VYUF9BTEwiLCJBVFRSX1BSRUZJWCIsIkFUVFJfUkVHRVhQIiwicHJlcGFyZWRUZW1wbGF0ZXMiLCJXZWFrTWFwIiwiYXBwbHlTaGFkeUNTUyIsInRlbXBsYXRlIiwidGFnTmFtZSIsInNoYWR5IiwibWFwIiwiZ2V0IiwiTWFwIiwic2V0IiwiY2xvbmUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJjbG9uZU5vZGUiLCJzdHlsZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiQXJyYXkiLCJmcm9tIiwiZm9yRWFjaCIsInN0eWxlIiwiY291bnQiLCJjaGlsZE5vZGVzIiwibGVuZ3RoIiwiaSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJjcmVhdGVUZXh0Tm9kZSIsInByZXBhcmVUZW1wbGF0ZSIsInRvTG93ZXJDYXNlIiwiY3JlYXRlSWQiLCJwYXJ0cyIsImlzU1ZHIiwiam9pbiIsImNyZWF0ZVNpZ25hdHVyZSIsInNpZ25hdHVyZSIsInJlZHVjZSIsImFjYyIsInBhcnQiLCJpbmRleCIsInNsaWNlIiwibWF0Y2giLCJyZXBsYWNlIiwiZ2V0UHJvcGVydHlOYW1lIiwic3RyaW5nIiwic3BsaXQiLCJwb3AiLCJyZXBsYWNlQ29tbWVudHMiLCJmcmFnbWVudCIsIml0ZXJhdG9yIiwiY3JlYXRlTm9kZUl0ZXJhdG9yIiwiTm9kZUZpbHRlciIsIlNIT1dfQ09NTUVOVCIsIm5vZGUiLCJuZXh0Tm9kZSIsInRlc3QiLCJ0ZXh0Q29udGVudCIsInJlbW92ZUNoaWxkIiwiY3JlYXRlSW50ZXJuYWxXYWxrZXIiLCJjb250ZXh0IiwiY3VycmVudE5vZGUiLCJ1bmRlZmluZWQiLCJuZXh0U2libGluZyIsImNyZWF0ZUV4dGVybmFsV2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsIlNIT1dfRUxFTUVOVCIsIlNIT1dfVEVYVCIsImNyZWF0ZVdhbGtlciIsIndpbmRvdyIsIlNoYWR5RE9NIiwiaW5Vc2UiLCJjb250YWluZXIiLCJjb21waWxlIiwicmF3UGFydHMiLCJpbm5lckhUTUwiLCJjaGlsZHJlbiIsInN2Z1Jvb3QiLCJmaXJzdENoaWxkIiwiY29tcGlsZVdhbGtlciIsImNvbXBpbGVJbmRleCIsIm5vZGVUeXBlIiwiTm9kZSIsIlRFWFRfTk9ERSIsInRleHQiLCJyZXN1bHRzIiwicGxhY2Vob2xkZXIiLCJiZWZvcmUiLCJuZXh0IiwicHVzaCIsImVxdWFsIiwiRUxFTUVOVF9OT0RFIiwiYXR0cmlidXRlcyIsImF0dHIiLCJ2YWx1ZSIsInRyaW0iLCJuYW1lIiwicHJvcGVydHlOYW1lIiwicmVtb3ZlQXR0cmlidXRlIiwicGFydGlhbE5hbWUiLCJob3N0IiwidGFyZ2V0IiwiYXR0clZhbHVlIiwiZGF0YSIsInNldEF0dHJpYnV0ZSIsImFyZ3MiLCJ0eXBlIiwiaW1wb3J0Tm9kZSIsInJlbmRlcldhbGtlciIsImNsb25lZFBhcnRzIiwicmVuZGVySW5kZXgiLCJjdXJyZW50UGFydCIsInNoaWZ0IiwibWFya2VycyIsIk9iamVjdCIsImFzc2lnbiIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImluZGV4T2YiLCJjdXN0b21FbGVtZW50cyIsIkVycm9yIiwiY2hpbGRMaXN0Iiwic3RhcnROb2RlIiwiZW5kTm9kZSIsInByZXZpb3VzQ2hpbGQiLCJjaGlsZCIsImZuIiwibGFzdEFyZ3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxTQUFTQSxn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QUFFQSxVQUFJNkUsTUFBTSxDQUFDcEIsUUFBUCxLQUFvQkMsSUFBSSxDQUFDQyxTQUE3QixFQUF3QztBQUN0QyxZQUFJMEMsYUFBYSxHQUFHeEIsTUFBcEI7QUFDQXFCLFFBQUFBLFNBQVMsQ0FBQ3RHLE9BQVYsQ0FBa0IsVUFBQzBHLEtBQUQsRUFBVztBQUMzQnpCLFVBQUFBLE1BQU0sQ0FBQzNFLFVBQVAsQ0FBa0JDLFlBQWxCLENBQStCbUcsS0FBL0IsRUFBc0NELGFBQWEsQ0FBQzlELFdBQXBEO0FBQ0E4RCxVQUFBQSxhQUFhLEdBQUdDLEtBQWhCO0FBQ0QsU0FIRDtBQUlELE9BTkQsTUFNTztBQUNMekIsUUFBQUEsTUFBTSxDQUFDdkYsV0FBUCxDQUFtQm1DLFFBQW5CO0FBQ0Q7QUFDRjs7QUFFRHNELElBQUFBLElBQUksQ0FBQ1UsT0FBTCxDQUFhN0YsT0FBYixDQUFxQixnQkFBYW9CLEtBQWIsRUFBdUI7QUFBQTtBQUFBLFVBQXJCYyxJQUFxQjtBQUFBLFVBQWZ5RSxFQUFlOztBQUMxQyxVQUFJeEIsSUFBSSxDQUFDeUIsUUFBTCxJQUFpQnpCLElBQUksQ0FBQ3lCLFFBQUwsQ0FBY3hGLEtBQWQsTUFBeUJpRSxJQUFJLENBQUNqRSxLQUFELENBQWxELEVBQTJEO0FBQzNEdUYsTUFBQUEsRUFBRSxDQUFDM0IsSUFBRCxFQUFPOUMsSUFBUCxFQUFhbUQsSUFBSSxDQUFDakUsS0FBRCxDQUFqQixFQUEwQitELElBQUksQ0FBQ3lCLFFBQUwsR0FBZ0J6QixJQUFJLENBQUN5QixRQUFMLENBQWN4RixLQUFkLENBQWhCLEdBQXVDc0IsU0FBakUsQ0FBRjtBQUNELEtBSEQ7QUFLQXlDLElBQUFBLElBQUksQ0FBQ3lCLFFBQUwsR0FBZ0J2QixJQUFoQjtBQUNELEdBaEVEO0FBaUVEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RyaW5naWZ5RWxlbWVudCwgc2hhZHlDU1MsIElTX0lFIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGF0YU1hcCwgcmVtb3ZlVGVtcGxhdGUgfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHJlc29sdmVWYWx1ZSBmcm9tICcuL3Jlc29sdmVycy92YWx1ZSc7XG5pbXBvcnQgcmVzb2x2ZVByb3BlcnR5IGZyb20gJy4vcmVzb2x2ZXJzL3Byb3BlcnR5JztcblxuY29uc3QgVElNRVNUQU1QID0gRGF0ZS5ub3coKTtcblxuY29uc3QgZ2V0UGxhY2Vob2xkZXIgPSAoaWQgPSAwKSA9PiBge3toLSR7VElNRVNUQU1QfS0ke2lkfX19YDtcblxuY29uc3QgUExBQ0VIT0xERVJfUkVHRVhQX1RFWFQgPSBnZXRQbGFjZWhvbGRlcignKFxcXFxkKyknKTtcbmNvbnN0IFBMQUNFSE9MREVSX1JFR0VYUF9FUVVBTCA9IG5ldyBSZWdFeHAoYF4ke1BMQUNFSE9MREVSX1JFR0VYUF9URVhUfSRgKTtcbmNvbnN0IFBMQUNFSE9MREVSX1JFR0VYUF9BTEwgPSBuZXcgUmVnRXhwKFBMQUNFSE9MREVSX1JFR0VYUF9URVhULCAnZycpO1xuXG5jb25zdCBBVFRSX1BSRUZJWCA9IGAtLSR7VElNRVNUQU1QfS0tYDtcbmNvbnN0IEFUVFJfUkVHRVhQID0gbmV3IFJlZ0V4cChBVFRSX1BSRUZJWCwgJ2cnKTtcblxuY29uc3QgcHJlcGFyZWRUZW1wbGF0ZXMgPSBuZXcgV2Vha01hcCgpO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gYXBwbHlTaGFkeUNTUyh0ZW1wbGF0ZSwgdGFnTmFtZSkge1xuICBpZiAoIXRhZ05hbWUpIHJldHVybiB0ZW1wbGF0ZTtcblxuICByZXR1cm4gc2hhZHlDU1MoKHNoYWR5KSA9PiB7XG4gICAgbGV0IG1hcCA9IHByZXBhcmVkVGVtcGxhdGVzLmdldCh0ZW1wbGF0ZSk7XG4gICAgaWYgKCFtYXApIHtcbiAgICAgIG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgIHByZXBhcmVkVGVtcGxhdGVzLnNldCh0ZW1wbGF0ZSwgbWFwKTtcbiAgICB9XG5cbiAgICBsZXQgY2xvbmUgPSBtYXAuZ2V0KHRhZ05hbWUpO1xuXG4gICAgaWYgKCFjbG9uZSkge1xuICAgICAgY2xvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgY2xvbmUuY29udGVudC5hcHBlbmRDaGlsZCh0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG5cbiAgICAgIG1hcC5zZXQodGFnTmFtZSwgY2xvbmUpO1xuXG4gICAgICBjb25zdCBzdHlsZXMgPSBjbG9uZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJyk7XG5cbiAgICAgIEFycmF5LmZyb20oc3R5bGVzKS5mb3JFYWNoKChzdHlsZSkgPT4ge1xuICAgICAgICBjb25zdCBjb3VudCA9IHN0eWxlLmNoaWxkTm9kZXMubGVuZ3RoICsgMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSArPSAxKSB7XG4gICAgICAgICAgc3R5bGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZ2V0UGxhY2Vob2xkZXIoKSksIHN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNoYWR5LnByZXBhcmVUZW1wbGF0ZShjbG9uZSwgdGFnTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lO1xuICB9LCB0ZW1wbGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJZChwYXJ0cywgaXNTVkcpIHtcbiAgcmV0dXJuIGAke2lzU1ZHID8gJ3N2ZzonIDogJyd9JHtwYXJ0cy5qb2luKGdldFBsYWNlaG9sZGVyKCkpfWA7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNpZ25hdHVyZShwYXJ0cykge1xuICBjb25zdCBzaWduYXR1cmUgPSBwYXJ0cy5yZWR1Y2UoKGFjYywgcGFydCwgaW5kZXgpID0+IHtcbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIHJldHVybiBwYXJ0O1xuICAgIH1cbiAgICBpZiAocGFydHMuc2xpY2UoaW5kZXgpLmpvaW4oJycpLm1hdGNoKC9cXHMqPFxcL1xccyoodGFibGV8dHJ8dGhlYWR8dGJvZHl8dGZvb3R8Y29sZ3JvdXApPi8pKSB7XG4gICAgICByZXR1cm4gYCR7YWNjfTwhLS0ke2dldFBsYWNlaG9sZGVyKGluZGV4IC0gMSl9LS0+JHtwYXJ0fWA7XG4gICAgfVxuICAgIHJldHVybiBhY2MgKyBnZXRQbGFjZWhvbGRlcihpbmRleCAtIDEpICsgcGFydDtcbiAgfSwgJycpO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoSVNfSUUpIHtcbiAgICByZXR1cm4gc2lnbmF0dXJlLnJlcGxhY2UoXG4gICAgICAvc3R5bGVcXHMqPVxccyooW1wiXVteXCJdK1tcIl18WyddW14nXStbJ118W15cXHNcIic8Pi9dKykvZyxcbiAgICAgIG1hdGNoID0+IGAke0FUVFJfUFJFRklYfSR7bWF0Y2h9YCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHNpZ25hdHVyZTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcGVydHlOYW1lKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1xccyo9XFxzKlsnXCJdKiQvZywgJycpLnNwbGl0KCcgJykucG9wKCk7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VDb21tZW50cyhmcmFnbWVudCkge1xuICBjb25zdCBpdGVyYXRvciA9IGRvY3VtZW50LmNyZWF0ZU5vZGVJdGVyYXRvcihmcmFnbWVudCwgTm9kZUZpbHRlci5TSE9XX0NPTU1FTlQsIG51bGwsIGZhbHNlKTtcbiAgbGV0IG5vZGU7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25kLWFzc2lnblxuICB3aGlsZSAobm9kZSA9IGl0ZXJhdG9yLm5leHROb2RlKCkpIHtcbiAgICBpZiAoUExBQ0VIT0xERVJfUkVHRVhQX0VRVUFMLnRlc3Qobm9kZS50ZXh0Q29udGVudCkpIHtcbiAgICAgIG5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobm9kZS50ZXh0Q29udGVudCksIG5vZGUpO1xuICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW50ZXJuYWxXYWxrZXIoY29udGV4dCkge1xuICBsZXQgbm9kZTtcblxuICByZXR1cm4ge1xuICAgIGdldCBjdXJyZW50Tm9kZSgpIHsgcmV0dXJuIG5vZGU7IH0sXG4gICAgbmV4dE5vZGUoKSB7XG4gICAgICBpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5vZGUgPSBjb250ZXh0LmNoaWxkTm9kZXNbMF07XG4gICAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGROb2Rlc1swXTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5uZXh0U2libGluZykge1xuICAgICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhIW5vZGU7XG4gICAgfSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRXh0ZXJuYWxXYWxrZXIoY29udGV4dCkge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcbiAgICBjb250ZXh0LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQgfCBOb2RlRmlsdGVyLlNIT1dfVEVYVCxcbiAgICBudWxsLFxuICAgIGZhbHNlLFxuICApO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuY29uc3QgY3JlYXRlV2Fsa2VyID0gdHlwZW9mIHdpbmRvdy5TaGFkeURPTSA9PT0gJ29iamVjdCcgJiYgd2luZG93LlNoYWR5RE9NLmluVXNlID8gY3JlYXRlSW50ZXJuYWxXYWxrZXIgOiBjcmVhdGVFeHRlcm5hbFdhbGtlcjtcblxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5leHBvcnQgZnVuY3Rpb24gY29tcGlsZShyYXdQYXJ0cywgaXNTVkcpIHtcbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICBjb25zdCBwYXJ0cyA9IFtdO1xuXG4gIGxldCBzaWduYXR1cmUgPSBjcmVhdGVTaWduYXR1cmUocmF3UGFydHMpO1xuICBpZiAoaXNTVkcpIHNpZ25hdHVyZSA9IGA8c3ZnPiR7c2lnbmF0dXJlfTwvc3ZnPmA7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChJU19JRSkge1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHNpZ25hdHVyZTtcbiAgfSBlbHNlIHtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYDx0ZW1wbGF0ZT4ke3NpZ25hdHVyZX08L3RlbXBsYXRlPmA7XG4gICAgdGVtcGxhdGUuY29udGVudC5hcHBlbmRDaGlsZChjb250YWluZXIuY2hpbGRyZW5bMF0uY29udGVudCk7XG4gIH1cblxuICBpZiAoaXNTVkcpIHtcbiAgICBjb25zdCBzdmdSb290ID0gdGVtcGxhdGUuY29udGVudC5maXJzdENoaWxkO1xuICAgIHRlbXBsYXRlLmNvbnRlbnQucmVtb3ZlQ2hpbGQoc3ZnUm9vdCk7XG4gICAgQXJyYXkuZnJvbShzdmdSb290LmNoaWxkTm9kZXMpLmZvckVhY2gobm9kZSA9PiB0ZW1wbGF0ZS5jb250ZW50LmFwcGVuZENoaWxkKG5vZGUpKTtcbiAgfVxuXG4gIHJlcGxhY2VDb21tZW50cyh0ZW1wbGF0ZS5jb250ZW50KTtcblxuICBjb25zdCBjb21waWxlV2Fsa2VyID0gY3JlYXRlV2Fsa2VyKHRlbXBsYXRlLmNvbnRlbnQpO1xuICBsZXQgY29tcGlsZUluZGV4ID0gMDtcblxuICB3aGlsZSAoY29tcGlsZVdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgY29uc3Qgbm9kZSA9IGNvbXBpbGVXYWxrZXIuY3VycmVudE5vZGU7XG5cbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgIGNvbnN0IHRleHQgPSBub2RlLnRleHRDb250ZW50O1xuXG4gICAgICBpZiAoIXRleHQubWF0Y2goUExBQ0VIT0xERVJfUkVHRVhQX0VRVUFMKSkge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gdGV4dC5tYXRjaChQTEFDRUhPTERFUl9SRUdFWFBfQUxMKTtcbiAgICAgICAgaWYgKHJlc3VsdHMpIHtcbiAgICAgICAgICBsZXQgY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICAgIHJlc3VsdHNcbiAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgcGxhY2Vob2xkZXIpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgW2JlZm9yZSwgbmV4dF0gPSBhY2MucG9wKCkuc3BsaXQocGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgICBpZiAoYmVmb3JlKSBhY2MucHVzaChiZWZvcmUpO1xuICAgICAgICAgICAgICBhY2MucHVzaChwbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgIGlmIChuZXh0KSBhY2MucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIFt0ZXh0XSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChwYXJ0LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS50ZXh0Q29udGVudCA9IHBhcnQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnROb2RlXG4gICAgICAgICAgICAgICAgICAuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBhcnQpLCBjdXJyZW50Tm9kZS5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVxdWFsID0gbm9kZS50ZXh0Q29udGVudC5tYXRjaChQTEFDRUhPTERFUl9SRUdFWFBfRVFVQUwpO1xuICAgICAgaWYgKGVxdWFsKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmICghSVNfSUUpIG5vZGUudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgcGFydHNbZXF1YWxbMV1dID0gW2NvbXBpbGVJbmRleCwgcmVzb2x2ZVZhbHVlXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvbmVseS1pZlxuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIEFycmF5LmZyb20obm9kZS5hdHRyaWJ1dGVzKS5mb3JFYWNoKChhdHRyKSA9PiB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSBJU19JRSA/IGF0dHIubmFtZS5yZXBsYWNlKEFUVFJfUFJFRklYLCAnJykgOiBhdHRyLm5hbWU7XG4gICAgICAgICAgY29uc3QgZXF1YWwgPSB2YWx1ZS5tYXRjaChQTEFDRUhPTERFUl9SRUdFWFBfRVFVQUwpO1xuICAgICAgICAgIGlmIChlcXVhbCkge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gZ2V0UHJvcGVydHlOYW1lKHJhd1BhcnRzW2VxdWFsWzFdXSk7XG4gICAgICAgICAgICBwYXJ0c1tlcXVhbFsxXV0gPSBbY29tcGlsZUluZGV4LCByZXNvbHZlUHJvcGVydHkobmFtZSwgcHJvcGVydHlOYW1lLCBpc1NWRyldO1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0ci5uYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IHZhbHVlLm1hdGNoKFBMQUNFSE9MREVSX1JFR0VYUF9BTEwpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFydGlhbE5hbWUgPSBgYXR0cl9fJHtuYW1lfWA7XG5cbiAgICAgICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKChwbGFjZWhvbGRlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbLCBpZF0gPSBwbGFjZWhvbGRlci5tYXRjaChQTEFDRUhPTERFUl9SRUdFWFBfRVFVQUwpO1xuICAgICAgICAgICAgICAgIHBhcnRzW2lkXSA9IFtjb21waWxlSW5kZXgsIChob3N0LCB0YXJnZXQsIGF0dHJWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRhdGFNYXAuZ2V0KHRhcmdldCwge30pO1xuICAgICAgICAgICAgICAgICAgZGF0YVtwYXJ0aWFsTmFtZV0gPSAoZGF0YVtwYXJ0aWFsTmFtZV0gfHwgdmFsdWUpLnJlcGxhY2UocGxhY2Vob2xkZXIsIGF0dHJWYWx1ZSA9PSBudWxsID8gJycgOiBhdHRyVmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoKHJlc3VsdHMubGVuZ3RoID09PSAxKSB8fCAoaW5kZXggKyAxID09PSByZXN1bHRzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZShuYW1lLCBkYXRhW3BhcnRpYWxOYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbcGFydGlhbE5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBhdHRyLnZhbHVlID0gJyc7XG5cbiAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgaWYgKElTX0lFICYmIG5hbWUgIT09IGF0dHIubmFtZSkge1xuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHIubmFtZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgJycpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb21waWxlSW5kZXggKz0gMTtcbiAgfVxuXG4gIHJldHVybiAoaG9zdCwgdGFyZ2V0LCBhcmdzKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IGRhdGFNYXAuZ2V0KHRhcmdldCwgeyB0eXBlOiAnZnVuY3Rpb24nIH0pO1xuXG4gICAgaWYgKHRlbXBsYXRlICE9PSBkYXRhLnRlbXBsYXRlKSB7XG4gICAgICBpZiAoZGF0YS50ZW1wbGF0ZSkgcmVtb3ZlVGVtcGxhdGUodGFyZ2V0KTtcblxuICAgICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5pbXBvcnROb2RlKGFwcGx5U2hhZHlDU1ModGVtcGxhdGUsIGhvc3QudGFnTmFtZSkuY29udGVudCwgdHJ1ZSk7XG5cbiAgICAgIGNvbnN0IHJlbmRlcldhbGtlciA9IGNyZWF0ZVdhbGtlcihmcmFnbWVudCk7XG4gICAgICBjb25zdCBjbG9uZWRQYXJ0cyA9IHBhcnRzLnNsaWNlKDApO1xuXG4gICAgICBsZXQgcmVuZGVySW5kZXggPSAwO1xuICAgICAgbGV0IGN1cnJlbnRQYXJ0ID0gY2xvbmVkUGFydHMuc2hpZnQoKTtcblxuICAgICAgY29uc3QgbWFya2VycyA9IFtdO1xuXG4gICAgICBPYmplY3QuYXNzaWduKGRhdGEsIHsgdGVtcGxhdGUsIG1hcmtlcnMgfSk7XG5cbiAgICAgIHdoaWxlIChyZW5kZXJXYWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICBjb25zdCBub2RlID0gcmVuZGVyV2Fsa2VyLmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgaWYgKFBMQUNFSE9MREVSX1JFR0VYUF9FUVVBTC50ZXN0KG5vZGUudGV4dENvbnRlbnQpKSB7XG4gICAgICAgICAgICBub2RlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgICAgfSBlbHNlIGlmIChJU19JRSkge1xuICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IG5vZGUudGV4dENvbnRlbnQucmVwbGFjZShBVFRSX1JFR0VYUCwgJycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgaWYgKG5vZGUudGFnTmFtZS5pbmRleE9mKCctJykgPiAtMSAmJiAhY3VzdG9tRWxlbWVudHMuZ2V0KG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYE1pc3NpbmcgJyR7c3RyaW5naWZ5RWxlbWVudChub2RlKX0nIGVsZW1lbnQgZGVmaW5pdGlvbiBpbiAnJHtzdHJpbmdpZnlFbGVtZW50KGhvc3QpfSdgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoY3VycmVudFBhcnQgJiYgY3VycmVudFBhcnRbMF0gPT09IHJlbmRlckluZGV4KSB7XG4gICAgICAgICAgbWFya2Vycy5wdXNoKFtub2RlLCBjdXJyZW50UGFydFsxXV0pO1xuICAgICAgICAgIGN1cnJlbnRQYXJ0ID0gY2xvbmVkUGFydHMuc2hpZnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlckluZGV4ICs9IDE7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNoaWxkTGlzdCA9IEFycmF5LmZyb20oZnJhZ21lbnQuY2hpbGROb2Rlcyk7XG5cbiAgICAgIGRhdGEuc3RhcnROb2RlID0gY2hpbGRMaXN0WzBdO1xuICAgICAgZGF0YS5lbmROb2RlID0gY2hpbGRMaXN0W2NoaWxkTGlzdC5sZW5ndGggLSAxXTtcblxuICAgICAgaWYgKHRhcmdldC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgbGV0IHByZXZpb3VzQ2hpbGQgPSB0YXJnZXQ7XG4gICAgICAgIGNoaWxkTGlzdC5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgIHRhcmdldC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjaGlsZCwgcHJldmlvdXNDaGlsZC5uZXh0U2libGluZyk7XG4gICAgICAgICAgcHJldmlvdXNDaGlsZCA9IGNoaWxkO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGF0YS5tYXJrZXJzLmZvckVhY2goKFtub2RlLCBmbl0sIGluZGV4KSA9PiB7XG4gICAgICBpZiAoZGF0YS5sYXN0QXJncyAmJiBkYXRhLmxhc3RBcmdzW2luZGV4XSA9PT0gYXJnc1tpbmRleF0pIHJldHVybjtcbiAgICAgIGZuKGhvc3QsIG5vZGUsIGFyZ3NbaW5kZXhdLCBkYXRhLmxhc3RBcmdzID8gZGF0YS5sYXN0QXJnc1tpbmRleF0gOiB1bmRlZmluZWQpO1xuICAgIH0pO1xuXG4gICAgZGF0YS5sYXN0QXJncyA9IGFyZ3M7XG4gIH07XG59XG4iXX0=","var promiseMap = new WeakMap();\nexport default function resolve(promise, placeholder) {\n  var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 200;\n  return function (host, target) {\n    var timeout;\n\n    if (placeholder) {\n      timeout = setTimeout(function () {\n        timeout = undefined;\n        requestAnimationFrame(function () {\n          placeholder(host, target);\n        });\n      }, delay);\n    }\n\n    promiseMap.set(target, promise);\n    promise.then(function (template) {\n      if (timeout) clearTimeout(timeout);\n\n      if (promiseMap.get(target) === promise) {\n        template(host, target);\n        promiseMap.set(target, null);\n      }\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlLmpzIl0sIm5hbWVzIjpbInByb21pc2VNYXAiLCJXZWFrTWFwIiwicmVzb2x2ZSIsInByb21pc2UiLCJwbGFjZWhvbGRlciIsImRlbGF5IiwiaG9zdCIsInRhcmdldCIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidW5kZWZpbmVkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0IiwidGhlbiIsInRlbXBsYXRlIiwiY2xlYXJUaW1lb3V0IiwiZ2V0Il0sIm1hcHBpbmdzIjoiQUFBQSxJQUFNQSxVQUFVLEdBQUcsSUFBSUMsT0FBSixFQUFuQjtBQUVBLGVBQWUsU0FBU0MsT0FBVCxDQUFpQkMsT0FBakIsRUFBMEJDLFdBQTFCLEVBQW9EO0FBQUEsTUFBYkMsS0FBYSx1RUFBTCxHQUFLO0FBQ2pFLFNBQU8sVUFBQ0MsSUFBRCxFQUFPQyxNQUFQLEVBQWtCO0FBQ3ZCLFFBQUlDLE9BQUo7O0FBRUEsUUFBSUosV0FBSixFQUFpQjtBQUNmSSxNQUFBQSxPQUFPLEdBQUdDLFVBQVUsQ0FBQyxZQUFNO0FBQ3pCRCxRQUFBQSxPQUFPLEdBQUdFLFNBQVY7QUFFQUMsUUFBQUEscUJBQXFCLENBQUMsWUFBTTtBQUMxQlAsVUFBQUEsV0FBVyxDQUFDRSxJQUFELEVBQU9DLE1BQVAsQ0FBWDtBQUNELFNBRm9CLENBQXJCO0FBR0QsT0FObUIsRUFNakJGLEtBTmlCLENBQXBCO0FBT0Q7O0FBRURMLElBQUFBLFVBQVUsQ0FBQ1ksR0FBWCxDQUFlTCxNQUFmLEVBQXVCSixPQUF2QjtBQUVBQSxJQUFBQSxPQUFPLENBQUNVLElBQVIsQ0FBYSxVQUFDQyxRQUFELEVBQWM7QUFDekIsVUFBSU4sT0FBSixFQUFhTyxZQUFZLENBQUNQLE9BQUQsQ0FBWjs7QUFFYixVQUFJUixVQUFVLENBQUNnQixHQUFYLENBQWVULE1BQWYsTUFBMkJKLE9BQS9CLEVBQXdDO0FBQ3RDVyxRQUFBQSxRQUFRLENBQUNSLElBQUQsRUFBT0MsTUFBUCxDQUFSO0FBQ0FQLFFBQUFBLFVBQVUsQ0FBQ1ksR0FBWCxDQUFlTCxNQUFmLEVBQXVCLElBQXZCO0FBQ0Q7QUFDRixLQVBEO0FBUUQsR0F2QkQ7QUF3QkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwcm9taXNlTWFwID0gbmV3IFdlYWtNYXAoKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCBwbGFjZWhvbGRlciwgZGVsYXkgPSAyMDApIHtcbiAgcmV0dXJuIChob3N0LCB0YXJnZXQpID0+IHtcbiAgICBsZXQgdGltZW91dDtcblxuICAgIGlmIChwbGFjZWhvbGRlcikge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgcGxhY2Vob2xkZXIoaG9zdCwgdGFyZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBkZWxheSk7XG4gICAgfVxuXG4gICAgcHJvbWlzZU1hcC5zZXQodGFyZ2V0LCBwcm9taXNlKTtcblxuICAgIHByb21pc2UudGhlbigodGVtcGxhdGUpID0+IHtcbiAgICAgIGlmICh0aW1lb3V0KSBjbGVhclRpbWVvdXQodGltZW91dCk7XG5cbiAgICAgIGlmIChwcm9taXNlTWFwLmdldCh0YXJnZXQpID09PSBwcm9taXNlKSB7XG4gICAgICAgIHRlbXBsYXRlKGhvc3QsIHRhcmdldCk7XG4gICAgICAgIHByb21pc2VNYXAuc2V0KHRhcmdldCwgbnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG4iXX0=","import define from '../define';\nimport { compile, createId } from './core';\nimport resolve from './resolve';\n\nfunction defineElements(elements) {\n  define(elements);\n  return this;\n}\n\nfunction key(id) {\n  this.id = id;\n  return this;\n}\n\nvar updates = new Map();\n\nfunction create(parts, args, isSVG) {\n  var update = function update(host) {\n    var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : host;\n    var id = createId(parts, isSVG);\n    var render = updates.get(id);\n\n    if (!render) {\n      render = compile(parts, isSVG);\n      updates.set(id, render);\n    }\n\n    render(host, target, args);\n  };\n\n  return Object.assign(update, {\n    define: defineElements,\n    key: key\n  });\n}\n\nexport function html(parts) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return create(parts, args);\n}\nexport function svg(parts) {\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  return create(parts, args, true);\n}\nObject.assign(html, {\n  resolve: resolve\n});\nObject.assign(svg, {\n  resolve: resolve\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZW1wbGF0ZS9pbmRleC5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCJjb21waWxlIiwiY3JlYXRlSWQiLCJyZXNvbHZlIiwiZGVmaW5lRWxlbWVudHMiLCJlbGVtZW50cyIsImtleSIsImlkIiwidXBkYXRlcyIsIk1hcCIsImNyZWF0ZSIsInBhcnRzIiwiYXJncyIsImlzU1ZHIiwidXBkYXRlIiwiaG9zdCIsInRhcmdldCIsInJlbmRlciIsImdldCIsInNldCIsIk9iamVjdCIsImFzc2lnbiIsImh0bWwiLCJzdmciXSwibWFwcGluZ3MiOiJBQUFBLE9BQU9BLE1BQVAsTUFBbUIsV0FBbkI7QUFFQSxTQUFTQyxPQUFULEVBQWtCQyxRQUFsQixRQUFrQyxRQUFsQztBQUNBLE9BQU9DLE9BQVAsTUFBb0IsV0FBcEI7O0FBRUEsU0FBU0MsY0FBVCxDQUF3QkMsUUFBeEIsRUFBa0M7QUFDaENMLEVBQUFBLE1BQU0sQ0FBQ0ssUUFBRCxDQUFOO0FBQ0EsU0FBTyxJQUFQO0FBQ0Q7O0FBRUQsU0FBU0MsR0FBVCxDQUFhQyxFQUFiLEVBQWlCO0FBQ2YsT0FBS0EsRUFBTCxHQUFVQSxFQUFWO0FBQ0EsU0FBTyxJQUFQO0FBQ0Q7O0FBRUQsSUFBTUMsT0FBTyxHQUFHLElBQUlDLEdBQUosRUFBaEI7O0FBRUEsU0FBU0MsTUFBVCxDQUFnQkMsS0FBaEIsRUFBdUJDLElBQXZCLEVBQTZCQyxLQUE3QixFQUFvQztBQUNsQyxNQUFNQyxNQUFNLEdBQUcsU0FBVEEsTUFBUyxDQUFDQyxJQUFELEVBQXlCO0FBQUEsUUFBbEJDLE1BQWtCLHVFQUFURCxJQUFTO0FBQ3RDLFFBQU1SLEVBQUUsR0FBR0wsUUFBUSxDQUFDUyxLQUFELEVBQVFFLEtBQVIsQ0FBbkI7QUFDQSxRQUFJSSxNQUFNLEdBQUdULE9BQU8sQ0FBQ1UsR0FBUixDQUFZWCxFQUFaLENBQWI7O0FBRUEsUUFBSSxDQUFDVSxNQUFMLEVBQWE7QUFDWEEsTUFBQUEsTUFBTSxHQUFHaEIsT0FBTyxDQUFDVSxLQUFELEVBQVFFLEtBQVIsQ0FBaEI7QUFDQUwsTUFBQUEsT0FBTyxDQUFDVyxHQUFSLENBQVlaLEVBQVosRUFBZ0JVLE1BQWhCO0FBQ0Q7O0FBRURBLElBQUFBLE1BQU0sQ0FBQ0YsSUFBRCxFQUFPQyxNQUFQLEVBQWVKLElBQWYsQ0FBTjtBQUNELEdBVkQ7O0FBWUEsU0FBT1EsTUFBTSxDQUFDQyxNQUFQLENBQWNQLE1BQWQsRUFBc0I7QUFBRWQsSUFBQUEsTUFBTSxFQUFFSSxjQUFWO0FBQTBCRSxJQUFBQSxHQUFHLEVBQUhBO0FBQTFCLEdBQXRCLENBQVA7QUFDRDs7QUFFRCxPQUFPLFNBQVNnQixJQUFULENBQWNYLEtBQWQsRUFBOEI7QUFBQSxvQ0FBTkMsSUFBTTtBQUFOQSxJQUFBQSxJQUFNO0FBQUE7O0FBQ25DLFNBQU9GLE1BQU0sQ0FBQ0MsS0FBRCxFQUFRQyxJQUFSLENBQWI7QUFDRDtBQUVELE9BQU8sU0FBU1csR0FBVCxDQUFhWixLQUFiLEVBQTZCO0FBQUEscUNBQU5DLElBQU07QUFBTkEsSUFBQUEsSUFBTTtBQUFBOztBQUNsQyxTQUFPRixNQUFNLENBQUNDLEtBQUQsRUFBUUMsSUFBUixFQUFjLElBQWQsQ0FBYjtBQUNEO0FBRURRLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjQyxJQUFkLEVBQW9CO0FBQUVuQixFQUFBQSxPQUFPLEVBQVBBO0FBQUYsQ0FBcEI7QUFDQWlCLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjRSxHQUFkLEVBQW1CO0FBQUVwQixFQUFBQSxPQUFPLEVBQVBBO0FBQUYsQ0FBbkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVmaW5lIGZyb20gJy4uL2RlZmluZSc7XG5cbmltcG9ydCB7IGNvbXBpbGUsIGNyZWF0ZUlkIH0gZnJvbSAnLi9jb3JlJztcbmltcG9ydCByZXNvbHZlIGZyb20gJy4vcmVzb2x2ZSc7XG5cbmZ1bmN0aW9uIGRlZmluZUVsZW1lbnRzKGVsZW1lbnRzKSB7XG4gIGRlZmluZShlbGVtZW50cyk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBrZXkoaWQpIHtcbiAgdGhpcy5pZCA9IGlkO1xuICByZXR1cm4gdGhpcztcbn1cblxuY29uc3QgdXBkYXRlcyA9IG5ldyBNYXAoKTtcblxuZnVuY3Rpb24gY3JlYXRlKHBhcnRzLCBhcmdzLCBpc1NWRykge1xuICBjb25zdCB1cGRhdGUgPSAoaG9zdCwgdGFyZ2V0ID0gaG9zdCkgPT4ge1xuICAgIGNvbnN0IGlkID0gY3JlYXRlSWQocGFydHMsIGlzU1ZHKTtcbiAgICBsZXQgcmVuZGVyID0gdXBkYXRlcy5nZXQoaWQpO1xuXG4gICAgaWYgKCFyZW5kZXIpIHtcbiAgICAgIHJlbmRlciA9IGNvbXBpbGUocGFydHMsIGlzU1ZHKTtcbiAgICAgIHVwZGF0ZXMuc2V0KGlkLCByZW5kZXIpO1xuICAgIH1cblxuICAgIHJlbmRlcihob3N0LCB0YXJnZXQsIGFyZ3MpO1xuICB9O1xuXG4gIHJldHVybiBPYmplY3QuYXNzaWduKHVwZGF0ZSwgeyBkZWZpbmU6IGRlZmluZUVsZW1lbnRzLCBrZXkgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBodG1sKHBhcnRzLCAuLi5hcmdzKSB7XG4gIHJldHVybiBjcmVhdGUocGFydHMsIGFyZ3MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3ZnKHBhcnRzLCAuLi5hcmdzKSB7XG4gIHJldHVybiBjcmVhdGUocGFydHMsIGFyZ3MsIHRydWUpO1xufVxuXG5PYmplY3QuYXNzaWduKGh0bWwsIHsgcmVzb2x2ZSB9KTtcbk9iamVjdC5hc3NpZ24oc3ZnLCB7IHJlc29sdmUgfSk7XG4iXX0=","import { html, define } from 'hybrids';\r\n\r\nconst hybridsHelloWorld = {\r\n  name: '',\r\n  render: ({ name }) => html`\r\n    <h1>Hello ${name}</h1>\r\n  `,\r\n};\r\n\r\ndefine('x-hybrids-hello-world', hybridsHelloWorld);\r\n\r\nconst appName = 'hibryds-module2';\r\n\r\nconst module = {\r\n\tbootstrap: () => Promise.resolve(),\r\n\tmount: () => {\r\n    document.body.innerHTML='<x-hybrids-hello-world name=\"app2\"></x-hybrids-hello-world>';\r\n\t\treturn Promise.resolve();\r\n\t},\r\n\tunmount: () => {\r\n\t\tdocument.body.innerHTML = '';\r\n\t\treturn Promise.resolve();\r\n\t}\r\n};\r\n\r\nconst loadCondition = () => location.pathname.indexOf(\"/app2\") === 0;\r\n\r\nexport { appName, module, loadCondition };"],"names":["global","self","window","defaultSetTimout","Error","defaultClearTimeout","cachedSetTimeout","cachedClearTimeout","runTimeout","fun","setTimeout","e","call","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","prototype","apply","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","performance","performanceNow","now","mozNow","msNow","oNow","webkitNow","Date","getTime","startTime","nextTick","args","Array","arguments","i","push","title","browser","env","argv","version","versions","binding","name","cwd","chdir","dir","umask","hrtime","previousTimestamp","clocktime","seconds","Math","floor","nanoseconds","platform","release","config","uptime","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","camelToDash","str","replace","toLowerCase","dispatch","host","eventType","options","undefined","dispatchEvent","CustomEvent","target","source","ownKeys","keys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","forEach","_objectSpread","bubbles","shadyCSS","fn","fallback","shady","ShadyCSS","nativeShadow","stringifyElement","element","tagName","String","IS_IE","_typeof","Symbol","iterator","constructor","defaultTransform","v","objectTransform","TypeError","freeze","map","WeakMap","cache","FPS_THRESHOLD","addToQueue","event","composedPath","currentTarget","requestAnimationFrame","update","index","nextTime","has","get","prevUpdate","nextUpdate","set","styleElement","t","styleSubtree","indexOf","render","_get","customOptions","shadowRoot","connect","shadowRootInit","mode","assign","attachShadow","addEventListener","removeEventListener","delete","entries","getEntry","targetMap","Map","entry","deps","Set","state","checksum","calculateChecksum","_ref","context","invalidate","clearValue","_defineProperties","props","descriptor","_possibleConstructorReturn","ReferenceError","_assertThisInitialized","_wrapNativeSuper","Class","_cache","Function","toString","Wrapper","_construct","_getPrototypeOf","create","_setPrototypeOf","Parent","Reflect","construct","sham","Proxy","isNativeReflectConstruct","a","instance","bind","o","p","setPrototypeOf","__proto__","getPrototypeOf","dispatchInvalidate","composed","defaultGet","compile","Hybrid","hybrids","connects","type","transform","Number","Boolean","val","oldValue","attrName","hasAttribute","attrValue","getAttribute","property","getter","add","parentContext","clear","nextValue","cache.get","newValue","_this","setter","callback","cache.set","process","NODE_ENV","cache.invalidate","updateQueue","lastHybrids","size","Promise","resolve","then","walkInShadow","node","from","children","el","document","body","disconnectedCallback","connectedCallback","defineElement","hybridsOrConstructor","CustomElement","customElements","define","_HTMLElement","Constructor","_classCallCheck","protoProps","staticProps","subClass","superClass","_inherits","HTMLElement","_this2","list","reduce","acc","result","defineMap","elements","slice","dataMap","defaultValue","getTemplateEnd","data","endNode","removeTemplate","startNode","lastNextSibling","nextSibling","parentNode","removeChild","arrayMap","resolveArray","lastEntries","item","id","hasOwnProperty","placeholder","available","ids","previousSibling","lastIndex","matchedEntry","find","insertBefore","prevNode","nextNode","movePlaceholder","resolveValue","createTextNode","isArray","textContent","eventMap","classMap","resolveClassList","previousList","className","normalizeValue","classList","remove","styleMap","resolveStyle","previousMap","nextMap","dashKey","styleValue","style","setProperty","removeProperty","resolveProperty","propertyName","isSVG","substr","lastValue","resolveEventListener","resolveStyleList","SVGElement","removeAttribute","setAttribute","_slicedToArray","arr","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","next","done","err","_iterableToArrayLimit","_nonIterableRest","TIMESTAMP","getPlaceholder","PLACEHOLDER_REGEXP_TEXT","PLACEHOLDER_REGEXP_EQUAL","RegExp","PLACEHOLDER_REGEXP_ALL","ATTR_PREFIX","ATTR_REGEXP","preparedTemplates","createWalker","ShadyDOM","inUse","currentNode","childNodes","createTreeWalker","NodeFilter","SHOW_ELEMENT","SHOW_TEXT","container","createElement","rawParts","template","parts","signature","part","join","match","createSignature","innerHTML","content","appendChild","svgRoot","firstChild","fragment","createNodeIterator","SHOW_COMMENT","test","replaceComments","compileWalker","compileIndex","_loop","nodeType","Node","TEXT_NODE","text","results","_acc$pop$split2","pop","split","before","equal","ELEMENT_NODE","attributes","attr","trim","_results","partialName","importNode","clone","cloneNode","styles","querySelectorAll","count","prepareTemplate","applyShadyCSS","renderWalker","clonedParts","renderIndex","currentPart","shift","markers","childList","previousChild","child","_ref2","lastArgs","promiseMap","promise","delay","defineElements","updates","createId","html","_len","_key","_len2","_key2","module","bootstrap","mount","unmount","location","pathname"],"mappings":"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"}